function _slicedToArray(e,a){return _arrayWithHoles(e)||_iterableToArrayLimit(e,a)||_unsupportedIterableToArray(e,a)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,a){if(e){if("string"==typeof e)return _arrayLikeToArray(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,a):void 0}}function _arrayLikeToArray(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,s=new Array(a);t<a;t++)s[t]=e[t];return s}function _iterableToArrayLimit(e,a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],s=!0,c=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(s=(r=o.next()).done)&&(t.push(r.value),!a||t.length!==a);s=!0);}catch(l){c=!0,n=l}finally{try{s||null==o.return||o.return()}finally{if(c)throw n}}return t}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,a){for(var t=0;t<a.length;t++){var s=a[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,a,t){return a&&_defineProperties(e.prototype,a),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{JSUq:function(e,a,t){"use strict";t.r(a);var s=t("PCNd"),c=t("ofXK"),n=t("tyNb"),r=t("v3IF"),o=t("NbJT"),l=t("eApZ"),i=t("bU05"),u=t("3Pt+"),d=t("quSY"),b=t("itXk"),m=t("iFvM"),h=t("SMdK"),p=t("SLWe"),C=t("pLZG"),f=t("eIep"),_=t("JX91"),g=t("/uUt"),A=t("3E0/"),E=t("lJxs"),S=t("8QIb");function N(e){return S.isValid(e.value)?null:{"invalid-iban":!0}}var v=function(e){return e.OPEN="1",e.IN_PROCESS="2",e.WAITING_SOLUTION="3",e.CLOSED="4",e.WATTING_RCI="5",e.CANCEL="6",e.INCOMPLETE="7",e}({}),T=t("cZP2"),y=t("fXoL"),R=function(e){return e[e.NEED_MONEY=1]="NEED_MONEY",e[e.OFFERED_BETTER_CONDITIONS=2]="OFFERED_BETTER_CONDITIONS",e[e.NOT_HAPPY_WITH_SERVICE=3]="NOT_HAPPY_WITH_SERVICE",e}({}),F=[{label:"case_cancel_need_money",value:R.NEED_MONEY},{label:"case_cancel_offered_better_conditions",value:R.OFFERED_BETTER_CONDITIONS},{label:"case_cancel_not_happy_with_service",value:R.NOT_HAPPY_WITH_SERVICE}],O=new y.q("REASON_CANCELLATIONT_LIST",{providedIn:"root",factory:function(){return F}}),I=t("a+Vh"),V=function(e){return e.FISCAL_ADDRESS="01",e.POSTAL_ADDRESS="02",e}({}),L=[{code:V.FISCAL_ADDRESS,name:"Direcci\xf3n fiscal"},{code:V.POSTAL_ADDRESS,name:"Direcci\xf3n postal"}],D=new y.q("ADDRESS_TYPES",{providedIn:"root",factory:function(){return L}}),P=t("vHNk"),M=t("Gy/1"),w=t("i9jL"),k=t("hzby"),j=t("v98y"),G=t("2PZR"),x=t("K3ix"),U=t("9yxR"),Y=t("44PX"),B=t("S8xs"),q=t("ZOsW"),H=t("sYmb");function $(e,a){if(1&e&&(y.Sb(0,"p",7),y.Sb(1,"b"),y.Ec(2),y.dc(3,"translate"),y.Rb(),y.Ec(4),y.Rb()),2&e){var t=y.cc();y.Ab(2),y.Gc("",y.ec(3,2,"case_tab_comments_backoffice"),":"),y.Ab(2),y.Gc(" ",t.comentsBackoffice," ")}}var X,W,J=function(e){return{active:e}},K=((X=function(){function e(){_classCallCheck(this,e),this.isOpen=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"open",value:function(){this.isOpen=!this.isOpen}}]),e}()).\u0275fac=function(e){return new(e||X)},X.\u0275cmp=y.Gb({type:X,selectors:[["app-collapse-case"]],inputs:{caseDate:"caseDate",caseType:"caseType",description:"description",comentsBackoffice:"comentsBackoffice"},decls:17,vars:17,consts:[[1,"tabs-block--desktop__body__row",3,"ngClass"],[1,"tabs-block--desktop__body__row__title",3,"click"],[1,"date"],[1,"name"],[1,"ico-arrow-3","arrow"],[1,"tabs-block--desktop__body__row__aditional-info"],["class","mt-3",4,"ngIf"],[1,"mt-3"]],template:function(e,a){1&e&&(y.Sb(0,"div",0),y.Sb(1,"div",1),y.ac("click",(function(){return a.open()})),y.Sb(2,"p",2),y.Ec(3),y.dc(4,"date"),y.Rb(),y.Sb(5,"p",3),y.Ec(6),y.dc(7,"translate"),y.Rb(),y.Nb(8,"span",4),y.Rb(),y.Sb(9,"div",5),y.Sb(10,"p"),y.Sb(11,"b"),y.Ec(12),y.dc(13,"translate"),y.Rb(),y.Ec(14),y.dc(15,"translate"),y.Rb(),y.Cc(16,$,5,4,"p",6),y.Rb(),y.Rb()),2&e&&(y.jc("ngClass",y.nc(15,J,a.isOpen)),y.Ab(3),y.Fc(y.fc(4,6,a.caseDate,"dd/MM/yyyy")),y.Ab(3),y.Fc(y.ec(7,9,a.caseType)),y.Ab(6),y.Gc("",y.ec(13,11,"case_tab_user_description"),":"),y.Ab(2),y.Gc(" ",y.ec(15,13,a.description||"case_tab_descripti\xf3n_empty")," "),y.Ab(2),y.jc("ngIf",a.comentsBackoffice))},directives:[c.n,c.p],pipes:[c.f,H.d],styles:[""]}),X),Q=t("eqDS"),Z=t("PQaN"),z=t("tepA"),ee=((W=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,a){var t;return null===(t=e)||void 0===t?void 0:t.filter((function(e){var t;return!(null===(t=e.disableOptionFor)||void 0===t?void 0:t.some((function(e){return e===a})))}))}}]),e}()).\u0275fac=function(e){return new(e||W)},W.\u0275pipe=y.Lb({name:"filterByClientType",type:W,pure:!0}),W),ae=["modalSucces"];function te(e,a){if(1&e&&y.Nb(0,"app-collapse-case",42),2&e){var t=a.$implicit,s=y.cc(3);y.jc("caseDate",t.createdDate)("caseType",s.getTypeCaseTitle(t.recordTypeDeveloperName))("description",t.description)("comentsBackoffice",t.clientComments)}}function se(e,a){if(1&e&&y.Nb(0,"app-collapse-case",42),2&e){var t=a.$implicit,s=y.cc(3);y.jc("caseDate",t.createdDate)("caseType",s.getTypeCaseTitle(t.recordTypeDeveloperName))("description",t.description)("comentsBackoffice",t.clientComments)}}function ce(e,a){if(1&e&&y.Nb(0,"app-collapse-case",42),2&e){var t=a.$implicit,s=y.cc(3);y.jc("caseDate",t.createdDate)("caseType",s.getTypeCaseTitle(t.recordTypeDeveloperName))("description",t.description)("comentsBackoffice",t.clientComments)}}function ne(e,a){if(1&e&&(y.Sb(0,"p",45),y.Sb(1,"b"),y.Ec(2),y.dc(3,"translate"),y.Rb(),y.Ec(4),y.Rb()),2&e){var t=y.cc().$implicit;y.Ab(2),y.Gc("",y.ec(3,2,"case_tab_comments_backoffice"),":"),y.Ab(2),y.Gc(" ",t.clientComments," ")}}function re(e,a){if(1&e&&(y.Sb(0,"accordion-group"),y.Sb(1,"div",43),y.Sb(2,"p"),y.Ec(3),y.dc(4,"translate"),y.Rb(),y.Sb(5,"p"),y.Ec(6),y.dc(7,"date"),y.Rb(),y.Rb(),y.Sb(8,"div"),y.Sb(9,"p"),y.Sb(10,"b"),y.Ec(11),y.dc(12,"translate"),y.Rb(),y.Ec(13),y.dc(14,"translate"),y.Rb(),y.Cc(15,ne,5,4,"p",44),y.Rb(),y.Rb()),2&e){var t=a.$implicit,s=y.cc(3);y.Ab(3),y.Fc(y.ec(4,5,s.getTypeCaseTitle(t.recordTypeDeveloperName))),y.Ab(3),y.Fc(y.fc(7,7,t.createdDate,"dd/MM/yyyy")),y.Ab(5),y.Gc("",y.ec(12,10,"case_tab_user_description"),":"),y.Ab(2),y.Gc(" ",y.ec(14,12,t.description||"case_tab_descripti\xf3n_empty")," "),y.Ab(2),y.jc("ngIf",t.clientComments)}}function oe(e,a){if(1&e&&(y.Sb(0,"p",45),y.Sb(1,"b"),y.Ec(2),y.dc(3,"translate"),y.Rb(),y.Ec(4),y.Rb()),2&e){var t=y.cc().$implicit;y.Ab(2),y.Gc("",y.ec(3,2,"case_tab_comments_backoffice"),":"),y.Ab(2),y.Gc(" ",t.clientComments," ")}}function le(e,a){if(1&e&&(y.Sb(0,"accordion-group"),y.Sb(1,"div",43),y.Sb(2,"p"),y.Ec(3),y.dc(4,"translate"),y.Rb(),y.Sb(5,"p"),y.Ec(6),y.dc(7,"date"),y.Rb(),y.Rb(),y.Sb(8,"div"),y.Sb(9,"p"),y.Sb(10,"b"),y.Ec(11),y.dc(12,"translate"),y.Rb(),y.Ec(13),y.dc(14,"translate"),y.Rb(),y.Cc(15,oe,5,4,"p",44),y.Rb(),y.Rb()),2&e){var t=a.$implicit,s=y.cc(3);y.Ab(3),y.Fc(y.ec(4,5,s.getTypeCaseTitle(t.recordTypeDeveloperName))),y.Ab(3),y.Fc(y.fc(7,7,t.createdDate,"dd/MM/yyyy")),y.Ab(5),y.Gc("",y.ec(12,10,"case_tab_user_description"),":"),y.Ab(2),y.Gc(" ",y.ec(14,12,t.description||"case_tab_descripti\xf3n_empty")," "),y.Ab(2),y.jc("ngIf",t.clientComments)}}function ie(e,a){if(1&e&&(y.Sb(0,"p",45),y.Sb(1,"b"),y.Ec(2),y.dc(3,"translate"),y.Rb(),y.Ec(4),y.Rb()),2&e){var t=y.cc().$implicit;y.Ab(2),y.Gc("",y.ec(3,2,"case_tab_comments_backoffice"),":"),y.Ab(2),y.Gc(" ",t.clientComments," ")}}function ue(e,a){if(1&e&&(y.Sb(0,"accordion-group"),y.Sb(1,"div",43),y.Sb(2,"p"),y.Ec(3),y.dc(4,"translate"),y.Rb(),y.Sb(5,"p"),y.Ec(6),y.dc(7,"date"),y.Rb(),y.Rb(),y.Sb(8,"div"),y.Sb(9,"p"),y.Sb(10,"b"),y.Ec(11),y.dc(12,"translate"),y.Rb(),y.Ec(13),y.dc(14,"translate"),y.Rb(),y.Cc(15,ie,5,4,"p",44),y.Rb(),y.Rb()),2&e){var t=a.$implicit,s=y.cc(3);y.Ab(3),y.Fc(y.ec(4,5,s.getTypeCaseTitle(t.recordTypeDeveloperName))),y.Ab(3),y.Fc(y.fc(7,7,t.createdDate,"dd/MM/yyyy")),y.Ab(5),y.Gc("",y.ec(12,10,"case_tab_user_description"),":"),y.Ab(2),y.Gc(" ",y.ec(14,12,t.description||"case_tab_descripti\xf3n_empty")," "),y.Ab(2),y.jc("ngIf",t.clientComments)}}function de(e,a){1&e&&(y.Ec(0),y.dc(1,"translate")),2&e&&y.Gc(" ",y.ec(1,1,a.item.title)," ")}function be(e,a){1&e&&(y.Ec(0),y.dc(1,"translate")),2&e&&y.Gc(" ",y.ec(1,1,a.item.title)," ")}function me(e,a){1&e&&(y.Ec(0),y.dc(1,"translate")),2&e&&y.Gc(" ",y.ec(1,1,a.item.title)," ")}function he(e,a){1&e&&(y.Ec(0),y.dc(1,"translate")),2&e&&y.Gc(" ",y.ec(1,1,a.item.title)," ")}function pe(e,a){1&e&&(y.Ec(0),y.dc(1,"titlecase"),y.dc(2,"translate")),2&e&&y.Gc(" ",y.ec(1,1,y.ec(2,3,a.item.name))," ")}function Ce(e,a){1&e&&(y.Ec(0),y.dc(1,"titlecase"),y.dc(2,"translate")),2&e&&y.Gc(" ",y.ec(1,1,y.ec(2,3,a.item.name))," ")}var fe=function(e){return{error:e}};function _e(e,a){if(1&e&&(y.Sb(0,"div",25),y.Sb(1,"ng-select",46),y.dc(2,"translate"),y.Cc(3,pe,3,5,"ng-template",27),y.Cc(4,Ce,3,5,"ng-template",28),y.Rb(),y.Rb()),2&e){var t=y.cc(3);y.Ab(1),y.jc("items",t.showAllProducts?t.allProductsList:t.productsList)("placeholder",y.ec(2,4,"case_form_product_placeholder"))("clearable",!1)("ngClass",y.nc(6,fe,t.hasError(t.caseForm.get("product"))))}}function ge(e,a){if(1&e&&(y.Sb(0,"div"),y.Sb(1,"div",30),y.Nb(2,"input",47),y.dc(3,"translate"),y.Rb(),y.Sb(4,"div",30),y.Nb(5,"input",48),y.dc(6,"translate"),y.Rb(),y.Sb(7,"div",30),y.Nb(8,"input",49),y.dc(9,"translate"),y.Rb(),y.Rb()),2&e){var t=y.cc(3);y.Ab(2),y.jc("placeholder",y.ec(3,6,"case_form_new_name_placeholder"))("ngClass",y.nc(12,fe,t.hasError(t.caseForm.get("name")))),y.Ab(3),y.jc("placeholder",y.ec(6,8,"case_form_new_fistsurname_placeholder"))("ngClass",y.nc(14,fe,t.hasError(t.caseForm.get("firstSurname")))),y.Ab(3),y.jc("placeholder",y.ec(9,10,"case_form_new_secondarysurname_placeholder"))("ngClass",y.nc(16,fe,t.hasError(t.caseForm.get("secondarySurname"))))}}function Ae(e,a){if(1&e&&(y.Sb(0,"div"),y.Sb(1,"div",30),y.Nb(2,"input",50),y.dc(3,"translate"),y.Rb(),y.Sb(4,"div",30),y.Nb(5,"input",51),y.dc(6,"translate"),y.Rb(),y.Rb()),2&e){var t=y.cc(3);y.Ab(2),y.jc("placeholder",y.ec(3,4,"case_form_new_email_placeholder"))("ngClass",y.nc(8,fe,t.hasError(t.caseForm.get("email"))||t.emailOrPhoneAtLeastOneError)),y.Ab(3),y.jc("placeholder",y.ec(6,6,"+34"))("ngClass",y.nc(10,fe,t.hasError(t.caseForm.get("phone"))||t.emailOrPhoneAtLeastOneError))}}function Ee(e,a){1&e&&(y.Ec(0),y.dc(1,"titlecase")),2&e&&y.Gc(" ",y.ec(1,1,a.item.name)," ")}function Se(e,a){1&e&&(y.Ec(0),y.dc(1,"titlecase")),2&e&&y.Gc(" ",y.ec(1,1,a.item.name)," ")}function Ne(e,a){1&e&&(y.Ec(0),y.dc(1,"titlecase"),y.dc(2,"translate")),2&e&&y.Gc(" ",y.ec(1,1,y.ec(2,3,a.item.name))," ")}function ve(e,a){1&e&&(y.Ec(0),y.dc(1,"titlecase"),y.dc(2,"translate")),2&e&&y.Gc(" ",y.ec(1,1,y.ec(2,3,a.item.name))," ")}function Te(e,a){1&e&&(y.Ec(0),y.dc(1,"titlecase"),y.dc(2,"translate")),2&e&&y.Gc(" ",y.ec(1,1,y.ec(2,3,a.item.name))," ")}function ye(e,a){1&e&&(y.Ec(0),y.dc(1,"titlecase"),y.dc(2,"translate")),2&e&&y.Gc(" ",y.ec(1,1,y.ec(2,3,a.item.name))," ")}var Re=function(){return{dateInputFormat:"DD/MM/YYYY"}};function Fe(e,a){if(1&e&&(y.Sb(0,"div"),y.Sb(1,"div",25),y.Sb(2,"ng-select",52),y.dc(3,"async"),y.dc(4,"translate"),y.Cc(5,Ee,2,3,"ng-template",27),y.Cc(6,Se,2,3,"ng-template",28),y.Rb(),y.Rb(),y.Sb(7,"div",25),y.Sb(8,"ng-select",53),y.dc(9,"async"),y.dc(10,"translate"),y.Cc(11,Ne,3,5,"ng-template",27),y.Cc(12,ve,3,5,"ng-template",28),y.Rb(),y.Rb(),y.Sb(13,"div",25),y.Sb(14,"ng-select",54),y.dc(15,"async"),y.dc(16,"translate"),y.Cc(17,Te,3,5,"ng-template",27),y.Cc(18,ye,3,5,"ng-template",28),y.Rb(),y.Rb(),y.Sb(19,"div",55),y.Nb(20,"input",56),y.dc(21,"translate"),y.Rb(),y.Rb()),2&e){var t=y.cc(3);y.Ab(2),y.jc("items",y.ec(3,17,t.employmentSituation$))("placeholder",y.ec(4,19,"case_form_employment_situation_placeholder"))("clearable",!1)("ngClass",y.nc(31,fe,t.hasError(t.caseForm.get("employmentSituation")))),y.Ab(6),y.jc("items",y.ec(9,21,t.cno$))("placeholder",y.ec(10,23,"case_form_activity_type_placeholder"))("clearable",!1)("ngClass",y.nc(33,fe,t.hasError(t.caseForm.get("cno")))),y.Ab(6),y.jc("items",y.ec(15,25,t.cnae$))("placeholder",y.ec(16,27,"case_form_professional_sector_placeholder"))("clearable",!1)("ngClass",y.nc(35,fe,t.hasError(t.caseForm.get("cnae")))),y.Ab(6),y.jc("maxDate",t.validationDates.minExpiration)("bsConfig",y.mc(37,Re))("placeholder",y.ec(21,29,"case_form_new_date_freelance_register"))("ngClass",y.nc(38,fe,t.hasError(t.caseForm.get("freelanceDateRegister"))))("dateCustomClasses",t.dateCustomClasses)}}function Oe(e,a){if(1&e&&(y.Sb(0,"div"),y.Sb(1,"div",25),y.Nb(2,"ng-select",57),y.dc(3,"translate"),y.Rb(),y.Sb(4,"div",25),y.Nb(5,"ng-select",58),y.dc(6,"translate"),y.Rb(),y.Sb(7,"div",30),y.Nb(8,"input",59),y.dc(9,"translate"),y.Rb(),y.Sb(10,"div",30),y.Nb(11,"input",60),y.dc(12,"translate"),y.Rb(),y.Sb(13,"div",30),y.Nb(14,"input",61),y.dc(15,"translate"),y.Rb(),y.Sb(16,"div",30),y.Nb(17,"input",62),y.dc(18,"translate"),y.Rb(),y.Sb(19,"div",30),y.Nb(20,"input",63),y.dc(21,"translate"),y.Rb(),y.Sb(22,"div",30),y.Nb(23,"input",64),y.dc(24,"translate"),y.Rb(),y.Sb(25,"div",25),y.Nb(26,"ng-select",65),y.dc(27,"async"),y.dc(28,"translate"),y.Rb(),y.Rb()),2&e){var t=y.cc(3);y.Ab(2),y.jc("items",t.addressTypes)("placeholder",y.ec(3,24,"case_form_new_address_type"))("clearable",!1)("ngClass",y.nc(44,fe,t.hasError(t.caseForm.get("addressType")))),y.Ab(3),y.jc("items",t.streetTypes)("placeholder",y.ec(6,26,"case_form_new_street_type"))("clearable",!1)("ngClass",y.nc(46,fe,t.hasError(t.caseForm.get("streetType")))),y.Ab(3),y.jc("ngClass",y.nc(48,fe,t.hasError(t.caseForm.get("streetName"))))("placeholder",y.ec(9,28,"case_form_new_street_name")),y.Ab(3),y.jc("ngClass",y.nc(50,fe,t.hasError(t.caseForm.get("streetNumber"))))("placeholder",y.ec(12,30,"case_form_new_street_number")),y.Ab(3),y.jc("ngClass",y.nc(52,fe,t.hasError(t.caseForm.get("portal"))))("placeholder",y.ec(15,32,"case_form_new_portal")),y.Ab(3),y.jc("ngClass",y.nc(54,fe,t.hasError(t.caseForm.get("floor"))))("placeholder",y.ec(18,34,"case_form_new_floor")),y.Ab(3),y.jc("ngClass",y.nc(56,fe,t.hasError(t.caseForm.get("door"))))("placeholder",y.ec(21,36,"case_form_new_door")),y.Ab(3),y.jc("ngClass",y.nc(58,fe,t.hasError(t.caseForm.get("postalCode"))))("placeholder",y.ec(24,38,"case_form_new_postal_code")),y.Ab(3),y.jc("items",y.ec(27,40,t.locationList$))("placeholder",y.ec(28,42,"case_form_new_location_code"))("clearable",!1)("ngClass",y.nc(60,fe,t.hasError(t.caseForm.get("locationCode"))))}}function Ie(e,a){1&e&&(y.Sb(0,"div"),y.Sb(1,"div",66),y.Sb(2,"div",67),y.Ec(3),y.dc(4,"translate"),y.Rb(),y.Sb(5,"div",68),y.Sb(6,"div",69),y.Nb(7,"input",70),y.Sb(8,"label",71),y.Ec(9),y.dc(10,"translate"),y.Rb(),y.Rb(),y.Sb(11,"div",69),y.Nb(12,"input",72),y.Sb(13,"label",73),y.Ec(14),y.dc(15,"translate"),y.Rb(),y.Rb(),y.Rb(),y.Rb(),y.Sb(16,"div",66),y.Sb(17,"div",67),y.Ec(18),y.dc(19,"translate"),y.Rb(),y.Sb(20,"div",68),y.Sb(21,"div",69),y.Nb(22,"input",74),y.Sb(23,"label",75),y.Ec(24),y.dc(25,"translate"),y.Rb(),y.Rb(),y.Sb(26,"div",69),y.Nb(27,"input",76),y.Sb(28,"label",77),y.Ec(29),y.dc(30,"translate"),y.Rb(),y.Rb(),y.Rb(),y.Rb(),y.Rb()),2&e&&(y.Ab(3),y.Gc(" ",y.ec(4,10,"case_form_legal_conditions_offer_comunications")," "),y.Ab(4),y.jc("value","SI"),y.Ab(2),y.Fc(y.ec(10,12,"case_from_yes")),y.Ab(3),y.jc("value","NO"),y.Ab(2),y.Fc(y.ec(15,14,"case_from_no")),y.Ab(4),y.Gc(" ",y.ec(19,16,"case_form_legal_conditions_transfer_data")," "),y.Ab(4),y.jc("value","SI"),y.Ab(2),y.Fc(y.ec(25,18,"case_from_yes")),y.Ab(3),y.jc("value","NO"),y.Ab(2),y.Fc(y.ec(30,20,"case_from_no")))}function Ve(e,a){if(1&e&&(y.Nb(0,"ng-select",78),y.dc(1,"translate")),2&e){var t=y.cc(3);y.jc("items",t.documentsProvideTypes)("clearable",!1)("placeholder",y.ec(1,4,"case_form_new_document_type"))("ngClass",y.nc(6,fe,t.hasError(t.caseForm.get("documentType"))))}}function Le(e,a){if(1&e&&(y.Sb(0,"div",25),y.Nb(1,"ng-select",79),y.dc(2,"translate"),y.Rb()),2&e){var t=y.cc(3);y.Ab(1),y.jc("items",t.documentsRequestTypes)("placeholder",y.ec(2,4,"case_form_new_document_type"))("clearable",!1)("ngClass",y.nc(6,fe,t.hasError(t.caseForm.get("documentType"))))}}function De(e,a){if(1&e&&(y.Sb(0,"div",30),y.Nb(1,"input",80),y.Rb()),2&e){var t=y.cc(3);y.Ab(1),y.jc("ngClass",y.nc(1,fe,t.hasError(t.caseForm.get("iban"))))}}function Pe(e,a){1&e&&(y.Ec(0),y.dc(1,"translate")),2&e&&y.Gc(" ",y.ec(1,1,a.item.label)," ")}function Me(e,a){1&e&&(y.Ec(0),y.dc(1,"translate")),2&e&&y.Gc(" ",y.ec(1,1,a.item.label)," ")}function we(e,a){if(1&e&&(y.Sb(0,"div",25),y.Sb(1,"ng-select",81),y.dc(2,"translate"),y.Cc(3,Pe,2,3,"ng-template",27),y.Cc(4,Me,2,3,"ng-template",28),y.Rb(),y.Rb()),2&e){var t=y.cc(3);y.Ab(1),y.jc("items",t.ReasonCancellationtList)("clearable",!1)("placeholder",y.ec(2,4,"case_form_reason_cancellationt_placeholder"))("ngClass",y.nc(6,fe,t.hasError(t.caseForm.get("reasonCancellation"))))}}function ke(e,a){if(1&e&&(y.Sb(0,"div",30),y.Nb(1,"input",82),y.dc(2,"translate"),y.Rb()),2&e){var t=y.cc(3);y.Ab(1),y.jc("placeholder",y.ec(2,2,"case_form_cancellation_taxation_placeholder"))("ngClass",y.nc(4,fe,t.hasError(t.caseForm.get("cancellationTaxation"))))}}var je=function(e){return{show:e}},Ge=function(e){return{hidden:e}};function xe(e,a){if(1&e){var t=y.Tb();y.Sb(0,"div",3),y.Sb(1,"div",4),y.Sb(2,"div",5),y.Sb(3,"div",6),y.Sb(4,"div",7),y.Sb(5,"div",8),y.Sb(6,"div",9),y.Sb(7,"h1"),y.Ec(8),y.dc(9,"translate"),y.Rb(),y.Sb(10,"p"),y.Ec(11),y.dc(12,"formatIban"),y.Rb(),y.Rb(),y.Rb(),y.Rb(),y.Rb(),y.Sb(13,"div",10),y.Sb(14,"div",11),y.Sb(15,"div",12),y.Sb(16,"tabset",null,13),y.Sb(18,"tab",14),y.dc(19,"translate"),y.Cc(20,te,1,4,"app-collapse-case",15),y.Rb(),y.Sb(21,"tab",14),y.dc(22,"translate"),y.Cc(23,se,1,4,"app-collapse-case",15),y.Rb(),y.Sb(24,"tab",14),y.dc(25,"translate"),y.Cc(26,ce,1,4,"app-collapse-case",15),y.Rb(),y.Rb(),y.Rb(),y.Sb(27,"div",16),y.Sb(28,"div",17),y.Sb(29,"p",18),y.Ec(30),y.dc(31,"translate"),y.Rb(),y.Sb(32,"div",19),y.Sb(33,"accordion",20),y.Cc(34,re,16,14,"accordion-group",21),y.Rb(),y.Rb(),y.Rb(),y.Sb(35,"div",17),y.Sb(36,"p",18),y.Ec(37),y.dc(38,"translate"),y.Rb(),y.Sb(39,"div",19),y.Sb(40,"accordion",20),y.Cc(41,le,16,14,"accordion-group",21),y.Rb(),y.Rb(),y.Rb(),y.Sb(42,"div",17),y.Sb(43,"p",18),y.Ec(44),y.dc(45,"translate"),y.Rb(),y.Sb(46,"div",19),y.Sb(47,"accordion",20),y.Cc(48,ue,16,14,"accordion-group",21),y.Rb(),y.Rb(),y.Rb(),y.Rb(),y.Rb(),y.Sb(49,"div",11),y.Sb(50,"form",22),y.ac("submit",(function(){return y.wc(t),y.cc(2).onSubmitForm()})),y.Sb(51,"button",23),y.ac("click",(function(){return y.wc(t),y.cc(2).showNewCasesMobile()})),y.Ec(52),y.dc(53,"translate"),y.Rb(),y.Sb(54,"div",24),y.Sb(55,"p"),y.Ec(56),y.dc(57,"translate"),y.Rb(),y.Rb(),y.Sb(58,"div",25),y.Sb(59,"ng-select",26),y.ac("change",(function(e){return y.wc(t),y.cc(2).selectCaseType(e)})),y.dc(60,"translate"),y.Cc(61,de,2,3,"ng-template",27),y.Cc(62,be,2,3,"ng-template",28),y.Rb(),y.Rb(),y.Sb(63,"div",25),y.Sb(64,"ng-select",29),y.dc(65,"filterByClientType"),y.dc(66,"translate"),y.Cc(67,me,2,3,"ng-template",27),y.Cc(68,he,2,3,"ng-template",28),y.Rb(),y.Rb(),y.Sb(69,"div",30),y.Nb(70,"input",31),y.dc(71,"translate"),y.Rb(),y.Cc(72,_e,5,8,"div",32),y.Cc(73,ge,10,18,"div",0),y.Cc(74,Ae,7,12,"div",0),y.Cc(75,Fe,22,40,"div",0),y.Cc(76,Oe,29,62,"div",0),y.Cc(77,Ie,31,22,"div",0),y.Sb(78,"div",25),y.Cc(79,Ve,2,8,"ng-select",33),y.Rb(),y.Cc(80,Le,3,8,"div",32),y.Cc(81,De,2,3,"div",34),y.Cc(82,we,5,8,"div",32),y.Cc(83,ke,3,6,"div",34),y.Sb(84,"div",35),y.Sb(85,"label",36),y.Ec(86),y.dc(87,"translate"),y.Rb(),y.Nb(88,"textarea",37),y.dc(89,"translate"),y.Rb(),y.Sb(90,"div",38),y.Sb(91,"button",39),y.Ec(92),y.dc(93,"translate"),y.Rb(),y.Rb(),y.Rb(),y.Rb(),y.Rb(),y.Sb(94,"div",40),y.Sb(95,"button",41),y.ac("click",(function(){return y.wc(t),y.cc(2).showNewCasesMobile()})),y.Ec(96),y.dc(97,"translate"),y.Rb(),y.Sb(98,"button",41),y.ac("click",(function(){return y.wc(t),y.cc(2).onSubmitForm()})),y.Ec(99),y.dc(100,"translate"),y.Rb(),y.Rb(),y.Rb(),y.Rb(),y.Rb()}if(2&e){var s=y.cc().ngIf,c=y.cc();y.Ab(8),y.Fc(y.ec(9,52,"case_my_cases")),y.Ab(3),y.Fc(y.ec(12,54,s.account.IBAN)),y.Ab(7),y.jc("heading",y.ec(19,56,"case_tab_open")),y.Ab(2),y.jc("ngForOf",c.casesListOpen),y.Ab(1),y.jc("heading",y.ec(22,58,"case_tab_in_process")),y.Ab(2),y.jc("ngForOf",c.casesListInProces),y.Ab(1),y.jc("heading",y.ec(25,60,"case_tab_closed")),y.Ab(2),y.jc("ngForOf",c.casesListClosed),y.Ab(1),y.jc("hidden",c.newCaseMobile),y.Ab(3),y.Fc(y.ec(31,62,"case_tab_open")),y.Ab(3),y.jc("closeOthers",!0),y.Ab(1),y.jc("ngForOf",c.casesListOpen),y.Ab(3),y.Fc(y.ec(38,64,"case_tab_in_process")),y.Ab(3),y.jc("closeOthers",!0),y.Ab(1),y.jc("ngForOf",c.casesListInProces),y.Ab(3),y.Fc(y.ec(45,66,"case_tab_closed")),y.Ab(3),y.jc("closeOthers",!0),y.Ab(1),y.jc("ngForOf",c.casesListClosed),y.Ab(2),y.jc("formGroup",c.caseForm)("ngClass",y.nc(91,je,c.newCaseMobile)),y.Ab(1),y.jc("ngClass",y.nc(93,Ge,c.newCaseMobile)),y.Ab(1),y.Gc(" ",y.ec(53,68,"case_form_goback_list")," "),y.Ab(4),y.Fc(y.ec(57,70,"case_form_new_petition")),y.Ab(3),y.jc("items",c.casesItems)("placeholder",y.ec(60,72,"case_form_casetype_placeholder"))("clearable",!1)("ngClass",y.nc(95,fe,c.hasError(c.caseForm.get("typeCase")))),y.Ab(5),y.jc("items",y.fc(65,74,null==c.caseTypeSelected?null:c.caseTypeSelected.categories,null==s.currentCustomer?null:null==s.currentCustomer.DatosPersonales?null:s.currentCustomer.DatosPersonales.clientType))("placeholder",y.ec(66,77,"case_form_category_placeholder"))("clearable",!1)("ngClass",y.nc(97,fe,c.hasError(c.caseForm.get("category")))),y.Ab(6),y.jc("placeholder",y.ec(71,79,"case_form_subject_placeholder"))("ngClass",y.nc(99,fe,c.hasError(c.caseForm.get("subject")))),y.Ab(2),y.jc("ngIf",c.showProdutcSelector),y.Ab(1),y.jc("ngIf",c.showNameAndLastnameFields),y.Ab(1),y.jc("ngIf",c.showPhoneAndMailFields),y.Ab(1),y.jc("ngIf",c.showLaborDataFields),y.Ab(1),y.jc("ngIf",c.showAddressDataFields),y.Ab(1),y.jc("ngIf",c.showPolicyDataFields),y.Ab(2),y.jc("ngIf",c.showProvideDocumentsFiels),y.Ab(1),y.jc("ngIf",c.showRequestDocumentsFiels),y.Ab(1),y.jc("ngIf",c.showIbanFields||c.showCancellationsFields||c.customerArea),y.Ab(1),y.jc("ngIf",c.showCancellationsFields),y.Ab(1),y.jc("ngIf",c.showCancellationTaxationFields),y.Ab(3),y.Fc(y.ec(87,81,"case_form_coments")),y.Ab(2),y.jc("placeholder",y.ec(89,83,"case_from_coments_placeholder"))("ngClass",y.nc(101,fe,c.hasError(c.caseForm.get("coments")))),y.Ab(4),y.Gc(" ",y.ec(93,85,"case_btn_send")," "),y.Ab(3),y.jc("ngClass",y.nc(103,Ge,c.newCaseMobile)),y.Ab(1),y.Gc(" ",y.ec(97,87,"case_form_new_petition")," "),y.Ab(2),y.jc("ngClass",y.nc(105,Ge,!c.newCaseMobile)),y.Ab(1),y.Gc(" ",y.ec(100,89,"case_btn_send")," ")}}function Ue(e,a){if(1&e){var t=y.Tb();y.Sb(0,"app-info-modal",83),y.ac("hide",(function(){return y.wc(t),y.cc(2).modalRef.hide()})),y.Rb()}}function Ye(e,a){if(1&e&&(y.Qb(0),y.Cc(1,xe,101,107,"div",1),y.Cc(2,Ue,1,0,"ng-template",null,2,y.Dc),y.Pb()),2&e){var t=a.ngIf;y.Ab(1),y.jc("ngIf",null==t?null:t.account)}}var Be,qe,He=[{path:"",component:(Be=function(){function e(a,t,s,c,n,r,o,l,i,u,b,m,h,p,C,f){_classCallCheck(this,e),this.headerService=a,this.formBuilder=t,this.caseService=s,this.dictionaryService=c,this.bsLocaleService=n,this.errorHandler=r,this.globalPositionService=o,this.modalService=l,this.accountService=i,this.casesItems=u,this.incomeSource=b,this.ReasonCancellationtList=m,this.addressTypes=h,this.streetTypes=p,this.documentsProvideTypes=C,this.documentsRequestTypes=f,this.MINLENGTH=3,this.MAXLENGTH=25,this.validationDates={minExpiration:new Date},this.state$=this.createState(),this.subs=new d.a,this.isProductType=!1,this.newCaseMobile=!1,this.showAllProducts=!1;var _=new Date;this.dateCustomClasses=[{date:_,classes:[]}]}return _createClass(e,[{key:"ngOnInit",value:function(){this.headerService.updateTitle("menu_requests"),this.bsLocaleService.use("es"),this.createForm(),this.getCases(),this.getProducts(),this.getAllProducts(),this.setStreamValues(),this.locationList$=this.setLocationStream(),this.cleanLocationCodeWhenPostalCodeChange(),this.listenEmploymentSituationChanges(),this.listenIbanChanges()}},{key:"createForm",value:function(){this.caseForm=this.formBuilder.group({typeCase:[null,u.r.required],category:[null,u.r.required],subject:[null,u.r.required],coments:[null,[u.r.required,u.r.maxLength(1e3)]],product:[null],name:[null],firstSurname:[null],secondarySurname:[null],email:[null],phone:[null],employmentSituation:[null],cnae:[{value:null,disabled:!0}],cno:[{value:null,disabled:!0}],freelanceDateRegister:[{value:null,disabled:!0}],iban:[null],reasonCancellation:[null],cancellationTaxation:[null],addressType:[null],streetType:[null],streetName:[null],streetNumber:[null],portal:[null],floor:[null],door:[null],postalCode:[null],locationCode:[null],offerComunications:[null],transferData:[null],documentType:[null]}),this.f.category.disable(),this.typeCaseValueChange(),this.categoryValueChange(),this.employmentSituationValuechange()}},{key:"getCases",value:function(){var e=this;this.subs.add(this.caseService.getCases().subscribe((function(a){e.casesListOpen=a?a.filter((function(e){return e.status===v.OPEN})):[],e.casesListInProces=a?a.filter((function(e){return e.status!==v.OPEN&&e.status!==v.CLOSED&&e.status!==v.CANCEL})):[],e.casesListClosed=a?a.filter((function(e){return e.status===v.CLOSED||e.status===v.CANCEL})):[]}),(function(a){e.errorHandler.showError(a)})))}},{key:"getTypeCaseTitle",value:function(e){return this.casesItems.filter((function(a){return a.id===e}))[0].title}},{key:"selectCaseType",value:function(e){var a=this;this.f.category.setValue(null),e?(this.caseTypeSelected=this.casesItems.filter((function(e){return e.id===a.f.typeCase.value}))[0],this.f.category.enable()):this.f.category.disable()}},{key:"typeCaseValueChange",value:function(){var e=this;this.caseForm.get(T.a.TYPE_CASE).valueChanges.subscribe((function(a){e.formSubmit=!1,e.cleanComentsAndSubject(),e.showAllProducts=a===i.a.GEN_INFORMATION,e.setGenInformation(a===i.a.GEN_INFORMATION||a===i.a.HIRING),e.setCustomerArea(a===i.a.CUSTOMER_AREA),e.setCancellation(a===i.a.CANCELLATIONS)}))}},{key:"setGenInformation",value:function(e){e?(this.caseForm.get(T.a.PRODUCT).setValue(null),this.caseForm.get(T.a.PRODUCT).setValidators([u.r.required]),this.showProdutcSelector=!0):(this.caseForm.get(T.a.PRODUCT).setValue(null),this.caseForm.get(T.a.PRODUCT).clearValidators(),this.showProdutcSelector=!1),this.caseForm.get(T.a.PRODUCT).updateValueAndValidity()}},{key:"setCustomerArea",value:function(e){e?(this.caseForm.get(T.a.IBAN).setValidators([u.r.required,N]),this.customerArea=!0):(this.caseForm.get(T.a.IBAN).setValue(null),this.caseForm.get(T.a.IBAN).clearValidators(),this.customerArea=!1),this.caseForm.get(T.a.IBAN).updateValueAndValidity()}},{key:"setCancellation",value:function(e){e?(this.caseForm.get(T.a.IBAN).setValidators([u.r.required,N]),this.caseForm.get(T.a.REASON_CANCELLATION).setValidators([u.r.required]),this.showCancellationsFields=!0):(this.caseForm.get(T.a.IBAN).setValue(null),this.caseForm.get(T.a.REASON_CANCELLATION).setValue(null),this.caseForm.get(T.a.IBAN).clearValidators(),this.caseForm.get(T.a.REASON_CANCELLATION).clearValidators(),this.showCancellationsFields=!1),this.caseForm.get(T.a.REASON_CANCELLATION).updateValueAndValidity()}},{key:"categoryValueChange",value:function(){var e=this;this.caseForm.get(T.a.CATEGORY).valueChanges.subscribe((function(a){e.formSubmit=!1,e.cleanComentsAndSubject(),e.setNameAndSurname(a===r.c.NAME_AND_SURNAME),e.setLaboralData(a===r.c.LABOR_DATA),e.setContactPhoneMail(a===r.c.CONTACT_DETAILS_PHONE_MAIL),e.setAddress(a===r.c.ADDRESS_CHANGES),e.setPrivacyPolicyOrConsents(a===r.c.PRIVACY_POLICY_OR_CONSENTS),e.setBankAccount(a===r.c.BANK_ACCOUNT_CHANGES),e.setProvideContractualDocuments(a===r.e.PROVIDE_DOCUMENTS),e.setRequestContractualDocuments(a===r.e.REQUEST_CONTRACTUAL_DOCUMENTS),e.cancellationOfTaxation(a===r.a.CANCELLATION_OF_TAXATION)}))}},{key:"setNameAndSurname",value:function(e){var a=[u.r.minLength(this.MINLENGTH),u.r.maxLength(this.MAXLENGTH),u.r.pattern(m.d),h.b],t=[u.r.minLength(this.MINLENGTH),u.r.maxLength(this.MAXLENGTH),u.r.pattern(m.a),h.b];e?(this.caseForm.get(T.a.NAME).setValidators([u.r.required].concat(a)),this.caseForm.get(T.a.FIRST_SURNAME).setValidators([u.r.required].concat(t)),this.caseForm.get(T.a.SECONDARY_SURNAME).setValidators([].concat(t)),this.showNameAndLastnameFields=!0):(this.caseForm.get(T.a.NAME).setValue(null),this.caseForm.get(T.a.FIRST_SURNAME).setValue(null),this.caseForm.get(T.a.SECONDARY_SURNAME).setValue(null),this.caseForm.get(T.a.NAME).clearValidators(),this.caseForm.get(T.a.FIRST_SURNAME).clearValidators(),this.caseForm.get(T.a.SECONDARY_SURNAME).clearValidators(),this.showNameAndLastnameFields=!1),this.caseForm.get(T.a.NAME).updateValueAndValidity(),this.caseForm.get(T.a.FIRST_SURNAME).updateValueAndValidity(),this.caseForm.get(T.a.SECONDARY_SURNAME).updateValueAndValidity()}},{key:"setLaboralData",value:function(e){e?(this.caseForm.get(T.a.EMPLOYMENT_SITUATION).setValidators([u.r.required]),this.caseForm.get(T.a.CNAE).setValidators([u.r.required]),this.caseForm.get(T.a.CNO).setValidators([u.r.required]),this.showLaborDataFields=!0):(this.caseForm.get(T.a.EMPLOYMENT_SITUATION).setValue(null),this.caseForm.get(T.a.CNAE).setValue(null),this.caseForm.get(T.a.CNO).setValue(null),this.caseForm.get(T.a.EMPLOYMENT_SITUATION).clearValidators(),this.caseForm.get(T.a.CNAE).clearValidators(),this.caseForm.get(T.a.CNO).clearValidators(),this.showLaborDataFields=!1),this.caseForm.get(T.a.EMPLOYMENT_SITUATION).updateValueAndValidity(),this.caseForm.get(T.a.CNAE).updateValueAndValidity(),this.caseForm.get(T.a.CNO).updateValueAndValidity()}},{key:"setContactPhoneMail",value:function(e){e?(this.caseForm.get(T.a.EMAIL).setValidators([u.r.pattern(m.b),h.b]),this.caseForm.get(T.a.PHONE).setValidators([u.r.pattern(m.e),h.b]),this.showPhoneAndMailFields=!0):(this.caseForm.get(T.a.EMAIL).setValue(null),this.caseForm.get(T.a.PHONE).setValue(null),this.caseForm.get(T.a.EMAIL).clearValidators(),this.caseForm.get(T.a.PHONE).clearValidators(),this.showPhoneAndMailFields=!1),this.caseForm.get(T.a.EMAIL).updateValueAndValidity(),this.caseForm.get(T.a.PHONE).updateValueAndValidity()}},{key:"setAddress",value:function(e){e?(this.caseForm.get(T.a.ADDRESS_TYPE).setValidators([u.r.required]),this.caseForm.get(T.a.STREET_TYPE).setValidators([u.r.required]),this.caseForm.get(T.a.STREET_NAME).setValidators([u.r.required,u.r.minLength(3),u.r.maxLength(200),h.b]),this.caseForm.get(T.a.STREET_NUMBER).setValidators([u.r.maxLength(4),h.b]),this.caseForm.get(T.a.PORTAL).setValidators([u.r.maxLength(2),h.b]),this.caseForm.get(T.a.FLOOR).setValidators([u.r.maxLength(4),h.b]),this.caseForm.get(T.a.DOOR).setValidators([u.r.maxLength(9),h.b]),this.caseForm.get(T.a.POSTAL_CODE).setValidators([u.r.required,u.r.pattern(m.f),u.r.maxLength(5),u.r.minLength(5),h.b]),this.caseForm.get(T.a.LOCATION_CODE).setValidators([u.r.required]),this.showAddressDataFields=!0):(this.caseForm.get(T.a.ADDRESS_TYPE).setValue(null),this.caseForm.get(T.a.STREET_TYPE).setValue(null),this.caseForm.get(T.a.STREET_NAME).setValue(null),this.caseForm.get(T.a.STREET_NUMBER).setValue(null),this.caseForm.get(T.a.PORTAL).setValue(null),this.caseForm.get(T.a.FLOOR).setValue(null),this.caseForm.get(T.a.DOOR).setValue(null),this.caseForm.get(T.a.POSTAL_CODE).setValue(null),this.caseForm.get(T.a.LOCATION_CODE).setValue(null),this.caseForm.get(T.a.STREET_TYPE).clearValidators(),this.caseForm.get(T.a.STREET_NAME).clearValidators(),this.caseForm.get(T.a.STREET_NUMBER).clearValidators(),this.caseForm.get(T.a.PORTAL).clearValidators(),this.caseForm.get(T.a.FLOOR).clearValidators(),this.caseForm.get(T.a.DOOR).clearValidators(),this.caseForm.get(T.a.POSTAL_CODE).clearValidators(),this.caseForm.get(T.a.LOCATION_CODE).clearValidators(),this.showAddressDataFields=!1),this.caseForm.get(T.a.ADDRESS_TYPE).updateValueAndValidity(),this.caseForm.get(T.a.STREET_TYPE).updateValueAndValidity(),this.caseForm.get(T.a.STREET_NAME).updateValueAndValidity(),this.caseForm.get(T.a.STREET_NUMBER).updateValueAndValidity(),this.caseForm.get(T.a.PORTAL).updateValueAndValidity(),this.caseForm.get(T.a.FLOOR).updateValueAndValidity(),this.caseForm.get(T.a.DOOR).updateValueAndValidity(),this.caseForm.get(T.a.POSTAL_CODE).updateValueAndValidity(),this.caseForm.get(T.a.LOCATION_CODE).updateValueAndValidity()}},{key:"setPrivacyPolicyOrConsents",value:function(e){e?(this.caseForm.get(T.a.OFFER_COMUNICATIONS).setValidators([u.r.required]),this.caseForm.get(T.a.TRANSFER_DATA).setValidators([u.r.required]),this.showPolicyDataFields=!0):(this.caseForm.get(T.a.OFFER_COMUNICATIONS).setValue(null),this.caseForm.get(T.a.TRANSFER_DATA).setValue(null),this.caseForm.get(T.a.OFFER_COMUNICATIONS).clearValidators(),this.caseForm.get(T.a.TRANSFER_DATA).clearValidators(),this.showPolicyDataFields=!1),this.caseForm.get(T.a.OFFER_COMUNICATIONS).updateValueAndValidity(),this.caseForm.get(T.a.TRANSFER_DATA).updateValueAndValidity()}},{key:"setBankAccount",value:function(e){e?(this.caseForm.get(T.a.IBAN).setValidators([u.r.required,N]),this.showIbanFields=!0):(this.caseForm.get(T.a.IBAN).setValue(null),this.caseForm.get(T.a.IBAN).clearValidators(),this.showIbanFields=!1),this.caseForm.get(T.a.IBAN).updateValueAndValidity()}},{key:"setProvideContractualDocuments",value:function(e){e?(this.caseForm.get(T.a.DOCUMENT_TYPE).setValidators([u.r.required]),this.showProvideDocumentsFiels=!0):(this.caseForm.get(T.a.DOCUMENT_TYPE).setValue(null),this.caseForm.get(T.a.DOCUMENT_TYPE).clearValidators(),this.showProvideDocumentsFiels=!1),this.caseForm.get(T.a.DOCUMENT_TYPE)}},{key:"setRequestContractualDocuments",value:function(e){e?(this.caseForm.get(T.a.DOCUMENT_TYPE).setValidators([u.r.required]),this.showRequestDocumentsFiels=!0):(this.caseForm.get(T.a.DOCUMENT_TYPE).setValue(null),this.caseForm.get(T.a.DOCUMENT_TYPE).clearValidators(),this.showRequestDocumentsFiels=!1),this.caseForm.get(T.a.DOCUMENT_TYPE)}},{key:"cancellationOfTaxation",value:function(e){e?(this.caseForm.get(T.a.CANCELLATION_TAXATION).setValidators([u.r.required]),this.showCancellationTaxationFields=!0):(this.caseForm.get(T.a.CANCELLATION_TAXATION).setValue(null),this.caseForm.get(T.a.CANCELLATION_TAXATION).clearValidators(),this.showCancellationTaxationFields=!1),this.caseForm.get(T.a.CANCELLATION_TAXATION).updateValueAndValidity()}},{key:"cleanComentsAndSubject",value:function(){this.caseForm.get(T.a.SUBJECT).setValue(null),this.caseForm.get(T.a.SUBJECT).updateValueAndValidity(),this.caseForm.get(T.a.COMENTS).setValue(null),this.caseForm.get(T.a.COMENTS).updateValueAndValidity()}},{key:"employmentSituationValuechange",value:function(){var e=this;this.caseForm.get(T.a.EMPLOYMENT_SITUATION).valueChanges.subscribe((function(a){"01"===a||"02"===a?(e.caseForm.get(T.a.CNAE).setValidators([u.r.required]),e.caseForm.get(T.a.CNO).setValidators([u.r.required])):(e.caseForm.get(T.a.CNAE).setValue(null),e.caseForm.get(T.a.CNO).setValue(null),e.caseForm.get(T.a.CNAE).clearValidators(),e.caseForm.get(T.a.CNO).clearValidators()),"02"===a?e.caseForm.get(T.a.FREELANCE_DATE_REGISTER).enable():(e.caseForm.get(T.a.FREELANCE_DATE_REGISTER).setValue(null),e.caseForm.get(T.a.FREELANCE_DATE_REGISTER).disable()),e.caseForm.get(T.a.CNAE).updateValueAndValidity(),e.caseForm.get(T.a.CNO).updateValueAndValidity(),e.caseForm.get(T.a.FREELANCE_DATE_REGISTER).updateValueAndValidity()}))}},{key:"getAllProducts",value:function(){var e=this;this.subs.add(this.accountService.currentCustomer$.pipe(Object(C.a)((function(e){return!!e})),Object(f.a)((function(a){var t,s;return e.dictionaryService.getProducts(null===(s=null===(t=a)||void 0===t?void 0:t.DatosPersonales)||void 0===s?void 0:s.mail)}))).subscribe((function(a){e.allProductsList=a.productList})))}},{key:"getProducts",value:function(){var e=this;this.subs.add(this.dictionaryService.getProducts().subscribe((function(a){e.productsList=a.productList})))}},{key:"setLocationStream",value:function(){var e=this,a=this.caseForm.get(T.a.POSTAL_CODE);return a.valueChanges.pipe(Object(_.a)(a.value),Object(C.a)((function(){return a.valid&&null!==a.value})),Object(f.a)((function(a){return e.dictionaryService.getLocation(a)})))}},{key:"cleanLocationCodeWhenPostalCodeChange",value:function(){var e=this;this.caseForm.get(T.a.POSTAL_CODE).valueChanges.subscribe((function(a){e.caseForm.get(T.a.LOCATION_CODE).value&&(e.caseForm.get(T.a.LOCATION_CODE).setValue(null),e.caseForm.get(T.a.LOCATION_CODE).updateValueAndValidity())}))}},{key:"onSubmitForm",value:function(){var e=this;if(this.formSubmit=!0,this.caseForm.valid){var a=this.builBodyRequest(this.caseForm);a&&this.subs.add(this.caseService.createCase({caseList:[a]}).subscribe((function(a){e.showSuccessModal(e.modalSucces),e.resetForm(),e.getCases()}),(function(a){e.errorHandler.showError(a)})))}}},{key:"builBodyRequest",value:function(e){var a=new l.a;switch(a.type=e.controls[T.a.CATEGORY].value,a.recordTypeDeveloperName=e.controls[T.a.TYPE_CASE].value,a.description=e.controls[T.a.COMENTS].value,a.subject=e.controls[T.a.SUBJECT].value,e.controls.typeCase.value){case i.a.GEN_INFORMATION:case i.a.HIRING:a.productExtId=e.controls[T.a.PRODUCT].value;break;case i.a.CONTRACTUAL_MODIF:switch(e.controls[T.a.CATEGORY].value){case r.c.NAME_AND_SURNAME:a.newName=e.controls[T.a.NAME].value||null,a.newLastName=e.controls[T.a.FIRST_SURNAME].value||null,a.newSecondLastName=e.controls[T.a.SECONDARY_SURNAME].value||null;break;case r.c.CONTACT_DETAILS_PHONE_MAIL:if(a.newPhone=e.controls[T.a.PHONE].value||null,a.newEmail=e.controls[T.a.EMAIL].value||null,this.emailOrPhoneAtLeastOneError)return null;break;case r.c.LABOR_DATA:a.employmentStatus=e.controls[T.a.EMPLOYMENT_SITUATION].value||null,a.CNOExtId=e.controls[T.a.CNO].value||null,a.CNAEExtId=e.controls[T.a.CNAE].value||null,a.freelanceStartDate=Object(c.z)(e.controls[T.a.FREELANCE_DATE_REGISTER].value,"yyy-MM-dd","es")||null;break;case r.c.ADDRESS_CHANGES:a.addressType=e.controls[T.a.ADDRESS_TYPE].value||null,a.streetType=e.controls[T.a.STREET_TYPE].value||null,a.streetName=e.controls[T.a.STREET_NAME].value||null,a.streetNumber=e.controls[T.a.STREET_NUMBER].value||null,a.portal=e.controls[T.a.PORTAL].value||null,a.floor=e.controls[T.a.FLOOR].value||null,a.door=e.controls[T.a.DOOR].value||null,a.postalCode=e.controls[T.a.POSTAL_CODE].value||null,a.locationCode=e.controls[T.a.LOCATION_CODE].value||null,a.provinceCode=a.postalCode.substr(0,2);break;case r.c.PRIVACY_POLICY_OR_CONSENTS:a.allowCommercialCommunications="SI"===e.controls[T.a.OFFER_COMUNICATIONS].value,a.allowTransferOfPersonalData="SI"===e.controls[T.a.TRANSFER_DATA].value;break;case r.c.BANK_ACCOUNT_CHANGES:a.newIBAN=e.controls[T.a.IBAN].value||null}break;case i.a.DOCUMENTS:a.document=e.controls[T.a.DOCUMENT_TYPE].value;break;case i.a.CANCELLATIONS:a.newIBAN=e.controls[T.a.IBAN].value||null,a.motive=e.controls[T.a.REASON_CANCELLATION].value||null,e.controls[T.a.CATEGORY].value===r.a.CANCELLATION_OF_TAXATION&&(a.impositionNumber=e.controls[T.a.CANCELLATION_TAXATION].value||null);break;case i.a.CUSTOMER_AREA:a.newIBAN=e.controls[T.a.IBAN].value||null}return a}},{key:"resetForm",value:function(){this.caseForm.reset(),this.caseTypeSelected=null,this.createForm(),this.formSubmit=!1}},{key:"trackByCode",value:function(e,a){return e&&a.code}},{key:"listenEmploymentSituationChanges",value:function(){var e=this.caseForm.get(T.a.EMPLOYMENT_SITUATION),a=this.caseForm.get(T.a.CNAE),t=this.caseForm.get(T.a.CNO);this.subs.add(e.valueChanges.pipe(Object(g.a)()).subscribe((function(e){"01"!==e&&"02"!==e?(a.disable(),t.disable(),a.setValue(null),t.setValue(null)):(a.enable(),t.enable())})))}},{key:"listenIbanChanges",value:function(){var e=this,a=this.caseForm.get(T.a.IBAN);this.subs.add(a.valueChanges.pipe(Object(C.a)((function(e){var a;return(null===(a=e)||void 0===a?void 0:a.length)>0&&!e.startsWith("ES")})),Object(A.a)(1)).subscribe((function(){e.caseForm.patchValue({iban:"ES"},{emitEvent:!1})})))}},{key:"createState",value:function(){return Object(b.a)([this.globalPositionService.globalPosition$,this.globalPositionService.globalPosition$.pipe(Object(I.d)()),this.accountService.currentCustomer$]).pipe(Object(E.a)((function(e){var a=_slicedToArray(e,3);return{globalPosition:a[0],account:a[1],currentCustomer:a[2]}})))}},{key:"setStreamValues",value:function(){this.employmentSituation$=this.dictionaryService.getEmploymentStatus(),this.cno$=this.dictionaryService.getCNO(),this.cnae$=this.dictionaryService.getCNAE()}},{key:"hasError",value:function(e){return e.touched&&e.invalid||this.formSubmit&&e.invalid}},{key:"showNewCasesMobile",value:function(){this.newCaseMobile=!this.newCaseMobile}},{key:"showSuccessModal",value:function(e){this.modalRef=this.modalService.show(e)}},{key:"ngOnDestroy",value:function(){this.globalPositionService.destroy(),this.subs.unsubscribe()}},{key:"f",get:function(){return this.caseForm.controls}},{key:"emailOrPhoneAtLeastOneError",get:function(){return this.formSubmit&&(null===this.f.email.value||""===this.f.email.value)&&(null===this.f.phone.value||""===this.f.phone.value)}},{key:"isTypeCaseSelected",get:function(){return!1}}]),e}(),Be.\u0275fac=function(e){return new(e||Be)(y.Mb(P.a),y.Mb(u.c),y.Mb(M.a),y.Mb(w.a),y.Mb(k.d),y.Mb(j.a),y.Mb(G.a),y.Mb(x.b),y.Mb(U.a),y.Mb(p.a),y.Mb(p.c),y.Mb(O),y.Mb(D),y.Mb(p.f),y.Mb(o.a),y.Mb(o.b))},Be.\u0275cmp=y.Gb({type:Be,selectors:[["app-cases"]],viewQuery:function(e,a){var t;1&e&&y.Ic(ae,!0),2&e&&y.sc(t=y.bc())&&(a.modalSucces=t.first)},decls:2,vars:3,consts:[[4,"ngIf"],["class","max-size cases",4,"ngIf"],["modalSucces",""],[1,"max-size","cases"],[1,"main"],[1,"main-col"],[1,"main__header"],[1,"main__header__desktop"],[1,"main__header__title"],[1,"main__header__title__col"],[1,"main__body"],[1,"col--2"],[1,"tabs-block--desktop"],["staticTabs",""],[3,"heading"],[3,"caseDate","caseType","description","comentsBackoffice",4,"ngFor","ngForOf"],[1,"tabs-block--mobile",3,"hidden"],[1,"tabs-block--mobile__section"],[1,"tabs-block--mobile__title"],[1,"tabs-block--mobile__body"],[3,"closeOthers"],[4,"ngFor","ngForOf"],[1,"new-request",3,"formGroup","ngClass","submit"],["type","button",1,"btn--primary","goback",3,"ngClass","click"],[1,"group-input","new-request__title"],[1,"group-input","input-select"],["bindLabel","title","bindValue","id","formControlName","typeCase",3,"items","placeholder","clearable","ngClass","change"],["ng-label-tmp",""],["ng-option-tmp",""],["bindLabel","title","bindValue","id","formControlName","category",3,"items","placeholder","clearable","ngClass"],[1,"group-input","input-text"],["type","text","id","subject","formControlName","subject","maxlength","50",3,"placeholder","ngClass"],["class","group-input input-select",4,"ngIf"],["bindLabel","name","bindValue","code","formControlName","documentType",3,"items","clearable","placeholder","ngClass",4,"ngIf"],["class","group-input input-text",4,"ngIf"],[1,"group-input","textarea"],["for","comments"],["name","comments","id","comments","formControlName","coments",3,"placeholder","ngClass"],[1,"group-button"],["type","submit",1,"btn--primary-small"],[1,"main__button"],["type","button",1,"btn--primary",3,"ngClass","click"],[3,"caseDate","caseType","description","comentsBackoffice"],["accordion-heading","",1,"tabs-block--mobile__row"],["class","mt-3",4,"ngIf"],[1,"mt-3"],["bindLabel","name","bindValue","externalId","formControlName","product",3,"items","placeholder","clearable","ngClass"],["type","text","id","name","formControlName","name","maxlength","25",3,"placeholder","ngClass"],["type","text","id","firstSurname","formControlName","firstSurname","maxlength","25",3,"placeholder","ngClass"],["type","text","id","secondarySurname","formControlName","secondarySurname","maxlength","25",3,"placeholder","ngClass"],["type","text","id","email","formControlName","email","maxlength","50",3,"placeholder","ngClass"],["type","text","id","phone","formControlName","phone","maxlength","9",3,"placeholder","ngClass"],["bindLabel","name","bindValue","code","formControlName","employmentSituation",3,"items","placeholder","clearable","ngClass"],["bindLabel","name","bindValue","code","formControlName","cno",3,"items","placeholder","clearable","ngClass"],["bindLabel","name","bindValue","code","formControlName","cnae",3,"items","placeholder","clearable","ngClass"],[1,"group-input","input-text","flex-column"],["id","freelanceDateRegister","type","text","bsDatepicker","","formControlName","freelanceDateRegister",3,"minDate","maxDate","bsConfig","placeholder","ngClass","dateCustomClasses"],["bindLabel","name","bindValue","code","formControlName","addressType",3,"items","placeholder","clearable","ngClass"],["bindLabel","name","bindValue","code","formControlName","streetType",3,"items","placeholder","clearable","ngClass"],["type","text","id","streetName","formControlName","streetName",3,"ngClass","placeholder"],["type","text","id","streetNumber","formControlName","streetNumber",3,"ngClass","placeholder"],["type","text","id","portal","formControlName","portal",3,"ngClass","placeholder"],["type","text","id","floor","formControlName","floor",3,"ngClass","placeholder"],["type","text","id","door","formControlName","door",3,"ngClass","placeholder"],["type","text","id","postalCode","formControlName","postalCode",3,"ngClass","placeholder"],["bindLabel","locationName","bindValue","locationCode","formControlName","locationCode",3,"items","placeholder","clearable","ngClass"],[1,"legal-conditions"],[1,"legal-conditions__text"],[1,"group-input","group-radio"],[1,"input-radio"],["id","offerComunicationsYes","name","offerComunications","type","radio","formControlName","offerComunications",3,"value"],["for","offerComunicationsYes"],["id","offerComunicationsNo","name","offerComunications","type","radio","formControlName","offerComunications",3,"value"],["for","offerComunicationsNo"],["id","transferDataYes","name","transferData","type","radio","formControlName","transferData",3,"value"],["for","transferDataYes"],["id","transferDataNo","name","transferData","type","radio","formControlName","transferData",3,"value"],["for","transferDataNo"],["bindLabel","name","bindValue","code","formControlName","documentType",3,"items","clearable","placeholder","ngClass"],["bindLabel","name","bindValue","code","formControlName","documentType",3,"items","placeholder","clearable","ngClass"],["appFormatIban","","type","text","id","iban","formControlName","iban","placeholder","IBAN",3,"ngClass"],["bindLabel","label","bindValue","value","formControlName","reasonCancellation",3,"items","clearable","placeholder","ngClass"],["type","text","id","cancellationTaxation","formControlName","cancellationTaxation","maxlength","50",3,"placeholder","ngClass"],["head","case_modal_succes_title","description","case_modal_success_description","type","success",3,"hide"]],template:function(e,a){1&e&&(y.Cc(0,Ye,4,1,"ng-container",0),y.dc(1,"async")),2&e&&y.jc("ngIf",y.ec(1,1,a.state$))},directives:[c.p,Y.c,Y.a,c.o,B.a,u.s,u.o,u.g,c.n,q.a,u.n,u.f,q.d,q.c,u.b,u.i,K,B.c,k.b,k.a,u.p,Q.a,Z.a],pipes:[c.b,H.d,z.a,ee,c.f,c.w],encapsulation:2}),Be)}],$e=((qe=function e(){_classCallCheck(this,e)}).\u0275mod=y.Kb({type:qe}),qe.\u0275inj=y.Jb({factory:function(e){return new(e||qe)},imports:[[n.h.forChild(He)],n.h]}),qe);t.d(a,"CasesModule",(function(){return We}));var Xe,We=((Xe=function e(){_classCallCheck(this,e)}).\u0275mod=y.Kb({type:Xe}),Xe.\u0275inj=y.Jb({factory:function(e){return new(e||Xe)},imports:[[c.c,$e,s.a]]}),Xe)}}]);
//# sourceMappingURL=10-es5.799c7657b857fdd90bb8.js.map