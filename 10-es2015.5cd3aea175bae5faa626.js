(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{JSUq:function(e,a,t){"use strict";t.r(a);var s=t("PCNd"),c=t("ofXK"),o=t("tyNb"),l=t("v3IF"),r=t("NbJT"),n=t("eApZ"),i=t("bU05"),d=t("3Pt+"),b=t("quSY"),u=t("itXk"),m=t("iFvM"),h=t("SMdK"),p=t("SLWe"),C=t("pLZG"),g=t("eIep"),A=t("JX91"),_=t("/uUt"),E=t("3E0/"),S=t("lJxs"),N=t("8QIb");function f(e){return N.isValid(e.value)?null:{"invalid-iban":!0}}var T=function(e){return e.OPEN="1",e.IN_PROCESS="2",e.WAITING_SOLUTION="3",e.CLOSED="4",e.WATTING_RCI="5",e.CANCEL="6",e.INCOMPLETE="7",e}({}),R=t("cZP2"),F=t("fXoL"),O=function(e){return e[e.NEED_MONEY=1]="NEED_MONEY",e[e.OFFERED_BETTER_CONDITIONS=2]="OFFERED_BETTER_CONDITIONS",e[e.NOT_HAPPY_WITH_SERVICE=3]="NOT_HAPPY_WITH_SERVICE",e}({});const v=[{label:"case_cancel_need_money",value:O.NEED_MONEY},{label:"case_cancel_offered_better_conditions",value:O.OFFERED_BETTER_CONDITIONS},{label:"case_cancel_not_happy_with_service",value:O.NOT_HAPPY_WITH_SERVICE}],y=new F.q("REASON_CANCELLATIONT_LIST",{providedIn:"root",factory:()=>v});var I=t("a+Vh"),V=function(e){return e.FISCAL_ADDRESS="01",e.POSTAL_ADDRESS="02",e}({});const L=[{code:V.FISCAL_ADDRESS,name:"Direcci\xf3n fiscal"},{code:V.POSTAL_ADDRESS,name:"Direcci\xf3n postal"}],D=new F.q("ADDRESS_TYPES",{providedIn:"root",factory:()=>L});var M=t("vHNk"),P=t("Gy/1"),w=t("i9jL"),j=t("hzby"),G=t("v98y"),x=t("2PZR"),U=t("K3ix"),Y=t("9yxR"),k=t("44PX"),B=t("S8xs"),q=t("ZOsW"),H=t("sYmb");function $(e,a){if(1&e&&(F.Sb(0,"p",7),F.Sb(1,"b"),F.Ec(2),F.dc(3,"translate"),F.Rb(),F.Ec(4),F.Rb()),2&e){const e=F.cc();F.Ab(2),F.Gc("",F.ec(3,2,"case_tab_comments_backoffice"),":"),F.Ab(2),F.Gc(" ",e.comentsBackoffice," ")}}const X=function(e){return{active:e}};let J=(()=>{class e{constructor(){this.isOpen=!1}ngOnInit(){}open(){this.isOpen=!this.isOpen}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=F.Gb({type:e,selectors:[["app-collapse-case"]],inputs:{caseDate:"caseDate",caseType:"caseType",description:"description",comentsBackoffice:"comentsBackoffice"},decls:17,vars:17,consts:[[1,"tabs-block--desktop__body__row",3,"ngClass"],[1,"tabs-block--desktop__body__row__title",3,"click"],[1,"date"],[1,"name"],[1,"ico-arrow-3","arrow"],[1,"tabs-block--desktop__body__row__aditional-info"],["class","mt-3",4,"ngIf"],[1,"mt-3"]],template:function(e,a){1&e&&(F.Sb(0,"div",0),F.Sb(1,"div",1),F.ac("click",(function(){return a.open()})),F.Sb(2,"p",2),F.Ec(3),F.dc(4,"date"),F.Rb(),F.Sb(5,"p",3),F.Ec(6),F.dc(7,"translate"),F.Rb(),F.Nb(8,"span",4),F.Rb(),F.Sb(9,"div",5),F.Sb(10,"p"),F.Sb(11,"b"),F.Ec(12),F.dc(13,"translate"),F.Rb(),F.Ec(14),F.dc(15,"translate"),F.Rb(),F.Cc(16,$,5,4,"p",6),F.Rb(),F.Rb()),2&e&&(F.jc("ngClass",F.nc(15,X,a.isOpen)),F.Ab(3),F.Fc(F.fc(4,6,a.caseDate,"dd/MM/yyyy")),F.Ab(3),F.Fc(F.ec(7,9,a.caseType)),F.Ab(6),F.Gc("",F.ec(13,11,"case_tab_user_description"),":"),F.Ab(2),F.Gc(" ",F.ec(15,13,a.description||"case_tab_descripti\xf3n_empty")," "),F.Ab(2),F.jc("ngIf",a.comentsBackoffice))},directives:[c.n,c.p],pipes:[c.f,H.d],styles:[""]}),e})();var W=t("eqDS"),K=t("PQaN"),Q=t("tepA");let Z=(()=>{class e{constructor(){}transform(e,a){var t;return null===(t=e)||void 0===t?void 0:t.filter(e=>{var t;return!(null===(t=e.disableOptionFor)||void 0===t?void 0:t.some(e=>e===a))})}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275pipe=F.Lb({name:"filterByClientType",type:e,pure:!0}),e})();const z=["modalSucces"];function ee(e,a){if(1&e&&F.Nb(0,"app-collapse-case",42),2&e){const e=a.$implicit,t=F.cc(3);F.jc("caseDate",e.createdDate)("caseType",t.getTypeCaseTitle(e.recordTypeDeveloperName))("description",e.description)("comentsBackoffice",e.clientComments)}}function ae(e,a){if(1&e&&F.Nb(0,"app-collapse-case",42),2&e){const e=a.$implicit,t=F.cc(3);F.jc("caseDate",e.createdDate)("caseType",t.getTypeCaseTitle(e.recordTypeDeveloperName))("description",e.description)("comentsBackoffice",e.clientComments)}}function te(e,a){if(1&e&&F.Nb(0,"app-collapse-case",42),2&e){const e=a.$implicit,t=F.cc(3);F.jc("caseDate",e.createdDate)("caseType",t.getTypeCaseTitle(e.recordTypeDeveloperName))("description",e.description)("comentsBackoffice",e.clientComments)}}function se(e,a){if(1&e&&(F.Sb(0,"p",45),F.Sb(1,"b"),F.Ec(2),F.dc(3,"translate"),F.Rb(),F.Ec(4),F.Rb()),2&e){const e=F.cc().$implicit;F.Ab(2),F.Gc("",F.ec(3,2,"case_tab_comments_backoffice"),":"),F.Ab(2),F.Gc(" ",e.clientComments," ")}}function ce(e,a){if(1&e&&(F.Sb(0,"accordion-group"),F.Sb(1,"div",43),F.Sb(2,"p"),F.Ec(3),F.dc(4,"translate"),F.Rb(),F.Sb(5,"p"),F.Ec(6),F.dc(7,"date"),F.Rb(),F.Rb(),F.Sb(8,"div"),F.Sb(9,"p"),F.Sb(10,"b"),F.Ec(11),F.dc(12,"translate"),F.Rb(),F.Ec(13),F.dc(14,"translate"),F.Rb(),F.Cc(15,se,5,4,"p",44),F.Rb(),F.Rb()),2&e){const e=a.$implicit,t=F.cc(3);F.Ab(3),F.Fc(F.ec(4,5,t.getTypeCaseTitle(e.recordTypeDeveloperName))),F.Ab(3),F.Fc(F.fc(7,7,e.createdDate,"dd/MM/yyyy")),F.Ab(5),F.Gc("",F.ec(12,10,"case_tab_user_description"),":"),F.Ab(2),F.Gc(" ",F.ec(14,12,e.description||"case_tab_descripti\xf3n_empty")," "),F.Ab(2),F.jc("ngIf",e.clientComments)}}function oe(e,a){if(1&e&&(F.Sb(0,"p",45),F.Sb(1,"b"),F.Ec(2),F.dc(3,"translate"),F.Rb(),F.Ec(4),F.Rb()),2&e){const e=F.cc().$implicit;F.Ab(2),F.Gc("",F.ec(3,2,"case_tab_comments_backoffice"),":"),F.Ab(2),F.Gc(" ",e.clientComments," ")}}function le(e,a){if(1&e&&(F.Sb(0,"accordion-group"),F.Sb(1,"div",43),F.Sb(2,"p"),F.Ec(3),F.dc(4,"translate"),F.Rb(),F.Sb(5,"p"),F.Ec(6),F.dc(7,"date"),F.Rb(),F.Rb(),F.Sb(8,"div"),F.Sb(9,"p"),F.Sb(10,"b"),F.Ec(11),F.dc(12,"translate"),F.Rb(),F.Ec(13),F.dc(14,"translate"),F.Rb(),F.Cc(15,oe,5,4,"p",44),F.Rb(),F.Rb()),2&e){const e=a.$implicit,t=F.cc(3);F.Ab(3),F.Fc(F.ec(4,5,t.getTypeCaseTitle(e.recordTypeDeveloperName))),F.Ab(3),F.Fc(F.fc(7,7,e.createdDate,"dd/MM/yyyy")),F.Ab(5),F.Gc("",F.ec(12,10,"case_tab_user_description"),":"),F.Ab(2),F.Gc(" ",F.ec(14,12,e.description||"case_tab_descripti\xf3n_empty")," "),F.Ab(2),F.jc("ngIf",e.clientComments)}}function re(e,a){if(1&e&&(F.Sb(0,"p",45),F.Sb(1,"b"),F.Ec(2),F.dc(3,"translate"),F.Rb(),F.Ec(4),F.Rb()),2&e){const e=F.cc().$implicit;F.Ab(2),F.Gc("",F.ec(3,2,"case_tab_comments_backoffice"),":"),F.Ab(2),F.Gc(" ",e.clientComments," ")}}function ne(e,a){if(1&e&&(F.Sb(0,"accordion-group"),F.Sb(1,"div",43),F.Sb(2,"p"),F.Ec(3),F.dc(4,"translate"),F.Rb(),F.Sb(5,"p"),F.Ec(6),F.dc(7,"date"),F.Rb(),F.Rb(),F.Sb(8,"div"),F.Sb(9,"p"),F.Sb(10,"b"),F.Ec(11),F.dc(12,"translate"),F.Rb(),F.Ec(13),F.dc(14,"translate"),F.Rb(),F.Cc(15,re,5,4,"p",44),F.Rb(),F.Rb()),2&e){const e=a.$implicit,t=F.cc(3);F.Ab(3),F.Fc(F.ec(4,5,t.getTypeCaseTitle(e.recordTypeDeveloperName))),F.Ab(3),F.Fc(F.fc(7,7,e.createdDate,"dd/MM/yyyy")),F.Ab(5),F.Gc("",F.ec(12,10,"case_tab_user_description"),":"),F.Ab(2),F.Gc(" ",F.ec(14,12,e.description||"case_tab_descripti\xf3n_empty")," "),F.Ab(2),F.jc("ngIf",e.clientComments)}}function ie(e,a){1&e&&(F.Ec(0),F.dc(1,"translate")),2&e&&F.Gc(" ",F.ec(1,1,a.item.title)," ")}function de(e,a){1&e&&(F.Ec(0),F.dc(1,"translate")),2&e&&F.Gc(" ",F.ec(1,1,a.item.title)," ")}function be(e,a){1&e&&(F.Ec(0),F.dc(1,"translate")),2&e&&F.Gc(" ",F.ec(1,1,a.item.title)," ")}function ue(e,a){1&e&&(F.Ec(0),F.dc(1,"translate")),2&e&&F.Gc(" ",F.ec(1,1,a.item.title)," ")}function me(e,a){1&e&&(F.Ec(0),F.dc(1,"titlecase"),F.dc(2,"translate")),2&e&&F.Gc(" ",F.ec(1,1,F.ec(2,3,a.item.name))," ")}function he(e,a){1&e&&(F.Ec(0),F.dc(1,"titlecase"),F.dc(2,"translate")),2&e&&F.Gc(" ",F.ec(1,1,F.ec(2,3,a.item.name))," ")}const pe=function(e){return{error:e}};function Ce(e,a){if(1&e&&(F.Sb(0,"div",25),F.Sb(1,"ng-select",46),F.dc(2,"translate"),F.Cc(3,me,3,5,"ng-template",27),F.Cc(4,he,3,5,"ng-template",28),F.Rb(),F.Rb()),2&e){const e=F.cc(3);F.Ab(1),F.jc("items",e.showAllProducts?e.allProductsList:e.productsList)("placeholder",F.ec(2,4,"case_form_product_placeholder"))("clearable",!1)("ngClass",F.nc(6,pe,e.hasError(e.caseForm.get("product"))))}}function ge(e,a){if(1&e&&(F.Sb(0,"div"),F.Sb(1,"div",30),F.Nb(2,"input",47),F.dc(3,"translate"),F.Rb(),F.Sb(4,"div",30),F.Nb(5,"input",48),F.dc(6,"translate"),F.Rb(),F.Sb(7,"div",30),F.Nb(8,"input",49),F.dc(9,"translate"),F.Rb(),F.Rb()),2&e){const e=F.cc(3);F.Ab(2),F.jc("placeholder",F.ec(3,6,"case_form_new_name_placeholder"))("ngClass",F.nc(12,pe,e.hasError(e.caseForm.get("name")))),F.Ab(3),F.jc("placeholder",F.ec(6,8,"case_form_new_fistsurname_placeholder"))("ngClass",F.nc(14,pe,e.hasError(e.caseForm.get("firstSurname")))),F.Ab(3),F.jc("placeholder",F.ec(9,10,"case_form_new_secondarysurname_placeholder"))("ngClass",F.nc(16,pe,e.hasError(e.caseForm.get("secondarySurname"))))}}function Ae(e,a){if(1&e&&(F.Sb(0,"div"),F.Sb(1,"div",30),F.Nb(2,"input",50),F.dc(3,"translate"),F.Rb(),F.Sb(4,"div",30),F.Nb(5,"input",51),F.dc(6,"translate"),F.Rb(),F.Rb()),2&e){const e=F.cc(3);F.Ab(2),F.jc("placeholder",F.ec(3,4,"case_form_new_email_placeholder"))("ngClass",F.nc(8,pe,e.hasError(e.caseForm.get("email"))||e.emailOrPhoneAtLeastOneError)),F.Ab(3),F.jc("placeholder",F.ec(6,6,"+34"))("ngClass",F.nc(10,pe,e.hasError(e.caseForm.get("phone"))||e.emailOrPhoneAtLeastOneError))}}function _e(e,a){1&e&&(F.Ec(0),F.dc(1,"titlecase")),2&e&&F.Gc(" ",F.ec(1,1,a.item.name)," ")}function Ee(e,a){1&e&&(F.Ec(0),F.dc(1,"titlecase")),2&e&&F.Gc(" ",F.ec(1,1,a.item.name)," ")}function Se(e,a){1&e&&(F.Ec(0),F.dc(1,"titlecase"),F.dc(2,"translate")),2&e&&F.Gc(" ",F.ec(1,1,F.ec(2,3,a.item.name))," ")}function Ne(e,a){1&e&&(F.Ec(0),F.dc(1,"titlecase"),F.dc(2,"translate")),2&e&&F.Gc(" ",F.ec(1,1,F.ec(2,3,a.item.name))," ")}function fe(e,a){1&e&&(F.Ec(0),F.dc(1,"titlecase"),F.dc(2,"translate")),2&e&&F.Gc(" ",F.ec(1,1,F.ec(2,3,a.item.name))," ")}function Te(e,a){1&e&&(F.Ec(0),F.dc(1,"titlecase"),F.dc(2,"translate")),2&e&&F.Gc(" ",F.ec(1,1,F.ec(2,3,a.item.name))," ")}const Re=function(){return{dateInputFormat:"DD/MM/YYYY"}};function Fe(e,a){if(1&e&&(F.Sb(0,"div"),F.Sb(1,"div",25),F.Sb(2,"ng-select",52),F.dc(3,"async"),F.dc(4,"translate"),F.Cc(5,_e,2,3,"ng-template",27),F.Cc(6,Ee,2,3,"ng-template",28),F.Rb(),F.Rb(),F.Sb(7,"div",25),F.Sb(8,"ng-select",53),F.dc(9,"async"),F.dc(10,"translate"),F.Cc(11,Se,3,5,"ng-template",27),F.Cc(12,Ne,3,5,"ng-template",28),F.Rb(),F.Rb(),F.Sb(13,"div",25),F.Sb(14,"ng-select",54),F.dc(15,"async"),F.dc(16,"translate"),F.Cc(17,fe,3,5,"ng-template",27),F.Cc(18,Te,3,5,"ng-template",28),F.Rb(),F.Rb(),F.Sb(19,"div",55),F.Nb(20,"input",56),F.dc(21,"translate"),F.Rb(),F.Rb()),2&e){const e=F.cc(3);F.Ab(2),F.jc("items",F.ec(3,17,e.employmentSituation$))("placeholder",F.ec(4,19,"case_form_employment_situation_placeholder"))("clearable",!1)("ngClass",F.nc(31,pe,e.hasError(e.caseForm.get("employmentSituation")))),F.Ab(6),F.jc("items",F.ec(9,21,e.cno$))("placeholder",F.ec(10,23,"case_form_activity_type_placeholder"))("clearable",!1)("ngClass",F.nc(33,pe,e.hasError(e.caseForm.get("cno")))),F.Ab(6),F.jc("items",F.ec(15,25,e.cnae$))("placeholder",F.ec(16,27,"case_form_professional_sector_placeholder"))("clearable",!1)("ngClass",F.nc(35,pe,e.hasError(e.caseForm.get("cnae")))),F.Ab(6),F.jc("maxDate",e.validationDates.minExpiration)("bsConfig",F.mc(37,Re))("placeholder",F.ec(21,29,"case_form_new_date_freelance_register"))("ngClass",F.nc(38,pe,e.hasError(e.caseForm.get("freelanceDateRegister"))))("dateCustomClasses",e.dateCustomClasses)}}function Oe(e,a){if(1&e&&(F.Sb(0,"div"),F.Sb(1,"div",25),F.Nb(2,"ng-select",57),F.dc(3,"translate"),F.Rb(),F.Sb(4,"div",25),F.Nb(5,"ng-select",58),F.dc(6,"translate"),F.Rb(),F.Sb(7,"div",30),F.Nb(8,"input",59),F.dc(9,"translate"),F.Rb(),F.Sb(10,"div",30),F.Nb(11,"input",60),F.dc(12,"translate"),F.Rb(),F.Sb(13,"div",30),F.Nb(14,"input",61),F.dc(15,"translate"),F.Rb(),F.Sb(16,"div",30),F.Nb(17,"input",62),F.dc(18,"translate"),F.Rb(),F.Sb(19,"div",30),F.Nb(20,"input",63),F.dc(21,"translate"),F.Rb(),F.Sb(22,"div",30),F.Nb(23,"input",64),F.dc(24,"translate"),F.Rb(),F.Sb(25,"div",25),F.Nb(26,"ng-select",65),F.dc(27,"async"),F.dc(28,"translate"),F.Rb(),F.Rb()),2&e){const e=F.cc(3);F.Ab(2),F.jc("items",e.addressTypes)("placeholder",F.ec(3,24,"case_form_new_address_type"))("clearable",!1)("ngClass",F.nc(44,pe,e.hasError(e.caseForm.get("addressType")))),F.Ab(3),F.jc("items",e.streetTypes)("placeholder",F.ec(6,26,"case_form_new_street_type"))("clearable",!1)("ngClass",F.nc(46,pe,e.hasError(e.caseForm.get("streetType")))),F.Ab(3),F.jc("ngClass",F.nc(48,pe,e.hasError(e.caseForm.get("streetName"))))("placeholder",F.ec(9,28,"case_form_new_street_name")),F.Ab(3),F.jc("ngClass",F.nc(50,pe,e.hasError(e.caseForm.get("streetNumber"))))("placeholder",F.ec(12,30,"case_form_new_street_number")),F.Ab(3),F.jc("ngClass",F.nc(52,pe,e.hasError(e.caseForm.get("portal"))))("placeholder",F.ec(15,32,"case_form_new_portal")),F.Ab(3),F.jc("ngClass",F.nc(54,pe,e.hasError(e.caseForm.get("floor"))))("placeholder",F.ec(18,34,"case_form_new_floor")),F.Ab(3),F.jc("ngClass",F.nc(56,pe,e.hasError(e.caseForm.get("door"))))("placeholder",F.ec(21,36,"case_form_new_door")),F.Ab(3),F.jc("ngClass",F.nc(58,pe,e.hasError(e.caseForm.get("postalCode"))))("placeholder",F.ec(24,38,"case_form_new_postal_code")),F.Ab(3),F.jc("items",F.ec(27,40,e.locationList$))("placeholder",F.ec(28,42,"case_form_new_location_code"))("clearable",!1)("ngClass",F.nc(60,pe,e.hasError(e.caseForm.get("locationCode"))))}}function ve(e,a){1&e&&(F.Sb(0,"div"),F.Sb(1,"div",66),F.Sb(2,"div",67),F.Ec(3),F.dc(4,"translate"),F.Rb(),F.Sb(5,"div",68),F.Sb(6,"div",69),F.Nb(7,"input",70),F.Sb(8,"label",71),F.Ec(9),F.dc(10,"translate"),F.Rb(),F.Rb(),F.Sb(11,"div",69),F.Nb(12,"input",72),F.Sb(13,"label",73),F.Ec(14),F.dc(15,"translate"),F.Rb(),F.Rb(),F.Rb(),F.Rb(),F.Sb(16,"div",66),F.Sb(17,"div",67),F.Ec(18),F.dc(19,"translate"),F.Rb(),F.Sb(20,"div",68),F.Sb(21,"div",69),F.Nb(22,"input",74),F.Sb(23,"label",75),F.Ec(24),F.dc(25,"translate"),F.Rb(),F.Rb(),F.Sb(26,"div",69),F.Nb(27,"input",76),F.Sb(28,"label",77),F.Ec(29),F.dc(30,"translate"),F.Rb(),F.Rb(),F.Rb(),F.Rb(),F.Rb()),2&e&&(F.Ab(3),F.Gc(" ",F.ec(4,10,"case_form_legal_conditions_offer_comunications")," "),F.Ab(4),F.jc("value","SI"),F.Ab(2),F.Fc(F.ec(10,12,"case_from_yes")),F.Ab(3),F.jc("value","NO"),F.Ab(2),F.Fc(F.ec(15,14,"case_from_no")),F.Ab(4),F.Gc(" ",F.ec(19,16,"case_form_legal_conditions_transfer_data")," "),F.Ab(4),F.jc("value","SI"),F.Ab(2),F.Fc(F.ec(25,18,"case_from_yes")),F.Ab(3),F.jc("value","NO"),F.Ab(2),F.Fc(F.ec(30,20,"case_from_no")))}function ye(e,a){if(1&e&&(F.Nb(0,"ng-select",78),F.dc(1,"translate")),2&e){const e=F.cc(3);F.jc("items",e.documentsProvideTypes)("clearable",!1)("placeholder",F.ec(1,4,"case_form_new_document_type"))("ngClass",F.nc(6,pe,e.hasError(e.caseForm.get("documentType"))))}}function Ie(e,a){if(1&e&&(F.Sb(0,"div",25),F.Nb(1,"ng-select",79),F.dc(2,"translate"),F.Rb()),2&e){const e=F.cc(3);F.Ab(1),F.jc("items",e.documentsRequestTypes)("placeholder",F.ec(2,4,"case_form_new_document_type"))("clearable",!1)("ngClass",F.nc(6,pe,e.hasError(e.caseForm.get("documentType"))))}}function Ve(e,a){if(1&e&&(F.Sb(0,"div",30),F.Nb(1,"input",80),F.Rb()),2&e){const e=F.cc(3);F.Ab(1),F.jc("ngClass",F.nc(1,pe,e.hasError(e.caseForm.get("iban"))))}}function Le(e,a){1&e&&(F.Ec(0),F.dc(1,"translate")),2&e&&F.Gc(" ",F.ec(1,1,a.item.label)," ")}function De(e,a){1&e&&(F.Ec(0),F.dc(1,"translate")),2&e&&F.Gc(" ",F.ec(1,1,a.item.label)," ")}function Me(e,a){if(1&e&&(F.Sb(0,"div",25),F.Sb(1,"ng-select",81),F.dc(2,"translate"),F.Cc(3,Le,2,3,"ng-template",27),F.Cc(4,De,2,3,"ng-template",28),F.Rb(),F.Rb()),2&e){const e=F.cc(3);F.Ab(1),F.jc("items",e.ReasonCancellationtList)("clearable",!1)("placeholder",F.ec(2,4,"case_form_reason_cancellationt_placeholder"))("ngClass",F.nc(6,pe,e.hasError(e.caseForm.get("reasonCancellation"))))}}function Pe(e,a){if(1&e&&(F.Sb(0,"div",30),F.Nb(1,"input",82),F.dc(2,"translate"),F.Rb()),2&e){const e=F.cc(3);F.Ab(1),F.jc("placeholder",F.ec(2,2,"case_form_cancellation_taxation_placeholder"))("ngClass",F.nc(4,pe,e.hasError(e.caseForm.get("cancellationTaxation"))))}}const we=function(e){return{show:e}},je=function(e){return{hidden:e}};function Ge(e,a){if(1&e){const e=F.Tb();F.Sb(0,"div",3),F.Sb(1,"div",4),F.Sb(2,"div",5),F.Sb(3,"div",6),F.Sb(4,"div",7),F.Sb(5,"div",8),F.Sb(6,"div",9),F.Sb(7,"h1"),F.Ec(8),F.dc(9,"translate"),F.Rb(),F.Sb(10,"p"),F.Ec(11),F.dc(12,"formatIban"),F.Rb(),F.Rb(),F.Rb(),F.Rb(),F.Rb(),F.Sb(13,"div",10),F.Sb(14,"div",11),F.Sb(15,"div",12),F.Sb(16,"tabset",null,13),F.Sb(18,"tab",14),F.dc(19,"translate"),F.Cc(20,ee,1,4,"app-collapse-case",15),F.Rb(),F.Sb(21,"tab",14),F.dc(22,"translate"),F.Cc(23,ae,1,4,"app-collapse-case",15),F.Rb(),F.Sb(24,"tab",14),F.dc(25,"translate"),F.Cc(26,te,1,4,"app-collapse-case",15),F.Rb(),F.Rb(),F.Rb(),F.Sb(27,"div",16),F.Sb(28,"div",17),F.Sb(29,"p",18),F.Ec(30),F.dc(31,"translate"),F.Rb(),F.Sb(32,"div",19),F.Sb(33,"accordion",20),F.Cc(34,ce,16,14,"accordion-group",21),F.Rb(),F.Rb(),F.Rb(),F.Sb(35,"div",17),F.Sb(36,"p",18),F.Ec(37),F.dc(38,"translate"),F.Rb(),F.Sb(39,"div",19),F.Sb(40,"accordion",20),F.Cc(41,le,16,14,"accordion-group",21),F.Rb(),F.Rb(),F.Rb(),F.Sb(42,"div",17),F.Sb(43,"p",18),F.Ec(44),F.dc(45,"translate"),F.Rb(),F.Sb(46,"div",19),F.Sb(47,"accordion",20),F.Cc(48,ne,16,14,"accordion-group",21),F.Rb(),F.Rb(),F.Rb(),F.Rb(),F.Rb(),F.Sb(49,"div",11),F.Sb(50,"form",22),F.ac("submit",(function(){return F.wc(e),F.cc(2).onSubmitForm()})),F.Sb(51,"button",23),F.ac("click",(function(){return F.wc(e),F.cc(2).showNewCasesMobile()})),F.Ec(52),F.dc(53,"translate"),F.Rb(),F.Sb(54,"div",24),F.Sb(55,"p"),F.Ec(56),F.dc(57,"translate"),F.Rb(),F.Rb(),F.Sb(58,"div",25),F.Sb(59,"ng-select",26),F.ac("change",(function(a){return F.wc(e),F.cc(2).selectCaseType(a)})),F.dc(60,"translate"),F.Cc(61,ie,2,3,"ng-template",27),F.Cc(62,de,2,3,"ng-template",28),F.Rb(),F.Rb(),F.Sb(63,"div",25),F.Sb(64,"ng-select",29),F.dc(65,"filterByClientType"),F.dc(66,"translate"),F.Cc(67,be,2,3,"ng-template",27),F.Cc(68,ue,2,3,"ng-template",28),F.Rb(),F.Rb(),F.Sb(69,"div",30),F.Nb(70,"input",31),F.dc(71,"translate"),F.Rb(),F.Cc(72,Ce,5,8,"div",32),F.Cc(73,ge,10,18,"div",0),F.Cc(74,Ae,7,12,"div",0),F.Cc(75,Fe,22,40,"div",0),F.Cc(76,Oe,29,62,"div",0),F.Cc(77,ve,31,22,"div",0),F.Sb(78,"div",25),F.Cc(79,ye,2,8,"ng-select",33),F.Rb(),F.Cc(80,Ie,3,8,"div",32),F.Cc(81,Ve,2,3,"div",34),F.Cc(82,Me,5,8,"div",32),F.Cc(83,Pe,3,6,"div",34),F.Sb(84,"div",35),F.Sb(85,"label",36),F.Ec(86),F.dc(87,"translate"),F.Rb(),F.Nb(88,"textarea",37),F.dc(89,"translate"),F.Rb(),F.Sb(90,"div",38),F.Sb(91,"button",39),F.Ec(92),F.dc(93,"translate"),F.Rb(),F.Rb(),F.Rb(),F.Rb(),F.Rb(),F.Sb(94,"div",40),F.Sb(95,"button",41),F.ac("click",(function(){return F.wc(e),F.cc(2).showNewCasesMobile()})),F.Ec(96),F.dc(97,"translate"),F.Rb(),F.Sb(98,"button",41),F.ac("click",(function(){return F.wc(e),F.cc(2).onSubmitForm()})),F.Ec(99),F.dc(100,"translate"),F.Rb(),F.Rb(),F.Rb(),F.Rb(),F.Rb()}if(2&e){const e=F.cc().ngIf,a=F.cc();F.Ab(8),F.Fc(F.ec(9,52,"case_my_cases")),F.Ab(3),F.Fc(F.ec(12,54,e.account.IBAN)),F.Ab(7),F.jc("heading",F.ec(19,56,"case_tab_open")),F.Ab(2),F.jc("ngForOf",a.casesListOpen),F.Ab(1),F.jc("heading",F.ec(22,58,"case_tab_in_process")),F.Ab(2),F.jc("ngForOf",a.casesListInProces),F.Ab(1),F.jc("heading",F.ec(25,60,"case_tab_closed")),F.Ab(2),F.jc("ngForOf",a.casesListClosed),F.Ab(1),F.jc("hidden",a.newCaseMobile),F.Ab(3),F.Fc(F.ec(31,62,"case_tab_open")),F.Ab(3),F.jc("closeOthers",!0),F.Ab(1),F.jc("ngForOf",a.casesListOpen),F.Ab(3),F.Fc(F.ec(38,64,"case_tab_in_process")),F.Ab(3),F.jc("closeOthers",!0),F.Ab(1),F.jc("ngForOf",a.casesListInProces),F.Ab(3),F.Fc(F.ec(45,66,"case_tab_closed")),F.Ab(3),F.jc("closeOthers",!0),F.Ab(1),F.jc("ngForOf",a.casesListClosed),F.Ab(2),F.jc("formGroup",a.caseForm)("ngClass",F.nc(91,we,a.newCaseMobile)),F.Ab(1),F.jc("ngClass",F.nc(93,je,a.newCaseMobile)),F.Ab(1),F.Gc(" ",F.ec(53,68,"case_form_goback_list")," "),F.Ab(4),F.Fc(F.ec(57,70,"case_form_new_petition")),F.Ab(3),F.jc("items",a.casesItems)("placeholder",F.ec(60,72,"case_form_casetype_placeholder"))("clearable",!1)("ngClass",F.nc(95,pe,a.hasError(a.caseForm.get("typeCase")))),F.Ab(5),F.jc("items",F.fc(65,74,null==a.caseTypeSelected?null:a.caseTypeSelected.categories,null==e.currentCustomer?null:null==e.currentCustomer.DatosPersonales?null:e.currentCustomer.DatosPersonales.clientType))("placeholder",F.ec(66,77,"case_form_category_placeholder"))("clearable",!1)("ngClass",F.nc(97,pe,a.hasError(a.caseForm.get("category")))),F.Ab(6),F.jc("placeholder",F.ec(71,79,"case_form_subject_placeholder"))("ngClass",F.nc(99,pe,a.hasError(a.caseForm.get("subject")))),F.Ab(2),F.jc("ngIf",a.showProdutcSelector),F.Ab(1),F.jc("ngIf",a.showNameAndLastnameFields),F.Ab(1),F.jc("ngIf",a.showPhoneAndMailFields),F.Ab(1),F.jc("ngIf",a.showLaborDataFields),F.Ab(1),F.jc("ngIf",a.showAddressDataFields),F.Ab(1),F.jc("ngIf",a.showPolicyDataFields),F.Ab(2),F.jc("ngIf",a.showProvideDocumentsFiels),F.Ab(1),F.jc("ngIf",a.showRequestDocumentsFiels),F.Ab(1),F.jc("ngIf",a.showIbanFields||a.showCancellationsFields||a.customerArea),F.Ab(1),F.jc("ngIf",a.showCancellationsFields),F.Ab(1),F.jc("ngIf",a.showCancellationTaxationFields),F.Ab(3),F.Fc(F.ec(87,81,"case_form_coments")),F.Ab(2),F.jc("placeholder",F.ec(89,83,"case_from_coments_placeholder"))("ngClass",F.nc(101,pe,a.hasError(a.caseForm.get("coments")))),F.Ab(4),F.Gc(" ",F.ec(93,85,"case_btn_send")," "),F.Ab(3),F.jc("ngClass",F.nc(103,je,a.newCaseMobile)),F.Ab(1),F.Gc(" ",F.ec(97,87,"case_form_new_petition")," "),F.Ab(2),F.jc("ngClass",F.nc(105,je,!a.newCaseMobile)),F.Ab(1),F.Gc(" ",F.ec(100,89,"case_btn_send")," ")}}function xe(e,a){if(1&e){const e=F.Tb();F.Sb(0,"app-info-modal",83),F.ac("hide",(function(){return F.wc(e),F.cc(2).modalRef.hide()})),F.Rb()}}function Ue(e,a){if(1&e&&(F.Qb(0),F.Cc(1,Ge,101,107,"div",1),F.Cc(2,xe,1,0,"ng-template",null,2,F.Dc),F.Pb()),2&e){const e=a.ngIf;F.Ab(1),F.jc("ngIf",null==e?null:e.account)}}const Ye=[{path:"",component:(()=>{class e{constructor(e,a,t,s,c,o,l,r,n,i,d,u,m,h,p,C){this.headerService=e,this.formBuilder=a,this.caseService=t,this.dictionaryService=s,this.bsLocaleService=c,this.errorHandler=o,this.globalPositionService=l,this.modalService=r,this.accountService=n,this.casesItems=i,this.incomeSource=d,this.ReasonCancellationtList=u,this.addressTypes=m,this.streetTypes=h,this.documentsProvideTypes=p,this.documentsRequestTypes=C,this.MINLENGTH=3,this.MAXLENGTH=25,this.validationDates={minExpiration:new Date},this.state$=this.createState(),this.subs=new b.a,this.isProductType=!1,this.newCaseMobile=!1,this.showAllProducts=!1;const g=new Date;this.dateCustomClasses=[{date:g,classes:[]}]}ngOnInit(){this.headerService.updateTitle("menu_requests"),this.bsLocaleService.use("es"),this.createForm(),this.getCases(),this.getProducts(),this.getAllProducts(),this.setStreamValues(),this.locationList$=this.setLocationStream(),this.cleanLocationCodeWhenPostalCodeChange(),this.listenEmploymentSituationChanges(),this.listenIbanChanges()}createForm(){this.caseForm=this.formBuilder.group({typeCase:[null,d.r.required],category:[null,d.r.required],subject:[null,d.r.required],coments:[null,[d.r.required,d.r.maxLength(1e3)]],product:[null],name:[null],firstSurname:[null],secondarySurname:[null],email:[null],phone:[null],employmentSituation:[null],cnae:[{value:null,disabled:!0}],cno:[{value:null,disabled:!0}],freelanceDateRegister:[{value:null,disabled:!0}],iban:[null],reasonCancellation:[null],cancellationTaxation:[null],addressType:[null],streetType:[null],streetName:[null],streetNumber:[null],portal:[null],floor:[null],door:[null],postalCode:[null],locationCode:[null],offerComunications:[null],transferData:[null],documentType:[null]}),this.f.category.disable(),this.typeCaseValueChange(),this.categoryValueChange(),this.employmentSituationValuechange()}get f(){return this.caseForm.controls}getCases(){this.subs.add(this.caseService.getCases().subscribe(e=>{this.casesListOpen=e?e.filter(e=>e.status===T.OPEN):[],this.casesListInProces=e?e.filter(e=>e.status!==T.OPEN&&e.status!==T.CLOSED&&e.status!==T.CANCEL):[],this.casesListClosed=e?e.filter(e=>e.status===T.CLOSED||e.status===T.CANCEL):[]},e=>{this.errorHandler.showError(e)}))}getTypeCaseTitle(e){return this.casesItems.filter(a=>a.id===e)[0].title}selectCaseType(e){this.f.category.setValue(null),e?(this.caseTypeSelected=this.casesItems.filter(e=>e.id===this.f.typeCase.value)[0],this.f.category.enable()):this.f.category.disable()}typeCaseValueChange(){this.caseForm.get(R.a.TYPE_CASE).valueChanges.subscribe(e=>{this.formSubmit=!1,this.cleanComentsAndSubject(),this.showAllProducts=e===i.a.GEN_INFORMATION,this.setGenInformation(e===i.a.GEN_INFORMATION||e===i.a.HIRING),this.setCustomerArea(e===i.a.CUSTOMER_AREA),this.setCancellation(e===i.a.CANCELLATIONS)})}setGenInformation(e){e?(this.caseForm.get(R.a.PRODUCT).setValue(null),this.caseForm.get(R.a.PRODUCT).setValidators([d.r.required]),this.showProdutcSelector=!0):(this.caseForm.get(R.a.PRODUCT).setValue(null),this.caseForm.get(R.a.PRODUCT).clearValidators(),this.showProdutcSelector=!1),this.caseForm.get(R.a.PRODUCT).updateValueAndValidity()}setCustomerArea(e){e?(this.caseForm.get(R.a.IBAN).setValidators([d.r.required,f]),this.customerArea=!0):(this.caseForm.get(R.a.IBAN).setValue(null),this.caseForm.get(R.a.IBAN).clearValidators(),this.customerArea=!1),this.caseForm.get(R.a.IBAN).updateValueAndValidity()}setCancellation(e){e?(this.caseForm.get(R.a.IBAN).setValidators([d.r.required,f]),this.caseForm.get(R.a.REASON_CANCELLATION).setValidators([d.r.required]),this.showCancellationsFields=!0):(this.caseForm.get(R.a.IBAN).setValue(null),this.caseForm.get(R.a.REASON_CANCELLATION).setValue(null),this.caseForm.get(R.a.IBAN).clearValidators(),this.caseForm.get(R.a.REASON_CANCELLATION).clearValidators(),this.showCancellationsFields=!1),this.caseForm.get(R.a.REASON_CANCELLATION).updateValueAndValidity()}categoryValueChange(){this.caseForm.get(R.a.CATEGORY).valueChanges.subscribe(e=>{this.formSubmit=!1,this.cleanComentsAndSubject(),this.setNameAndSurname(e===l.c.NAME_AND_SURNAME),this.setLaboralData(e===l.c.LABOR_DATA),this.setContactPhoneMail(e===l.c.CONTACT_DETAILS_PHONE_MAIL),this.setAddress(e===l.c.ADDRESS_CHANGES),this.setPrivacyPolicyOrConsents(e===l.c.PRIVACY_POLICY_OR_CONSENTS),this.setBankAccount(e===l.c.BANK_ACCOUNT_CHANGES),this.setProvideContractualDocuments(e===l.e.PROVIDE_DOCUMENTS),this.setRequestContractualDocuments(e===l.e.REQUEST_CONTRACTUAL_DOCUMENTS),this.cancellationOfTaxation(e===l.a.CANCELLATION_OF_TAXATION)})}setNameAndSurname(e){const a=[d.r.minLength(this.MINLENGTH),d.r.maxLength(this.MAXLENGTH),d.r.pattern(m.d),h.b],t=[d.r.minLength(this.MINLENGTH),d.r.maxLength(this.MAXLENGTH),d.r.pattern(m.a),h.b];e?(this.caseForm.get(R.a.NAME).setValidators([d.r.required,...a]),this.caseForm.get(R.a.FIRST_SURNAME).setValidators([d.r.required,...t]),this.caseForm.get(R.a.SECONDARY_SURNAME).setValidators([...t]),this.showNameAndLastnameFields=!0):(this.caseForm.get(R.a.NAME).setValue(null),this.caseForm.get(R.a.FIRST_SURNAME).setValue(null),this.caseForm.get(R.a.SECONDARY_SURNAME).setValue(null),this.caseForm.get(R.a.NAME).clearValidators(),this.caseForm.get(R.a.FIRST_SURNAME).clearValidators(),this.caseForm.get(R.a.SECONDARY_SURNAME).clearValidators(),this.showNameAndLastnameFields=!1),this.caseForm.get(R.a.NAME).updateValueAndValidity(),this.caseForm.get(R.a.FIRST_SURNAME).updateValueAndValidity(),this.caseForm.get(R.a.SECONDARY_SURNAME).updateValueAndValidity()}setLaboralData(e){e?(this.caseForm.get(R.a.EMPLOYMENT_SITUATION).setValidators([d.r.required]),this.caseForm.get(R.a.CNAE).setValidators([d.r.required]),this.caseForm.get(R.a.CNO).setValidators([d.r.required]),this.showLaborDataFields=!0):(this.caseForm.get(R.a.EMPLOYMENT_SITUATION).setValue(null),this.caseForm.get(R.a.CNAE).setValue(null),this.caseForm.get(R.a.CNO).setValue(null),this.caseForm.get(R.a.EMPLOYMENT_SITUATION).clearValidators(),this.caseForm.get(R.a.CNAE).clearValidators(),this.caseForm.get(R.a.CNO).clearValidators(),this.showLaborDataFields=!1),this.caseForm.get(R.a.EMPLOYMENT_SITUATION).updateValueAndValidity(),this.caseForm.get(R.a.CNAE).updateValueAndValidity(),this.caseForm.get(R.a.CNO).updateValueAndValidity()}setContactPhoneMail(e){e?(this.caseForm.get(R.a.EMAIL).setValidators([d.r.pattern(m.b),h.b]),this.caseForm.get(R.a.PHONE).setValidators([d.r.pattern(m.e),h.b]),this.showPhoneAndMailFields=!0):(this.caseForm.get(R.a.EMAIL).setValue(null),this.caseForm.get(R.a.PHONE).setValue(null),this.caseForm.get(R.a.EMAIL).clearValidators(),this.caseForm.get(R.a.PHONE).clearValidators(),this.showPhoneAndMailFields=!1),this.caseForm.get(R.a.EMAIL).updateValueAndValidity(),this.caseForm.get(R.a.PHONE).updateValueAndValidity()}setAddress(e){e?(this.caseForm.get(R.a.ADDRESS_TYPE).setValidators([d.r.required]),this.caseForm.get(R.a.STREET_TYPE).setValidators([d.r.required]),this.caseForm.get(R.a.STREET_NAME).setValidators([d.r.required,d.r.minLength(3),d.r.maxLength(200),h.b]),this.caseForm.get(R.a.STREET_NUMBER).setValidators([d.r.maxLength(4),h.b]),this.caseForm.get(R.a.PORTAL).setValidators([d.r.maxLength(2),h.b]),this.caseForm.get(R.a.FLOOR).setValidators([d.r.maxLength(4),h.b]),this.caseForm.get(R.a.DOOR).setValidators([d.r.maxLength(9),h.b]),this.caseForm.get(R.a.POSTAL_CODE).setValidators([d.r.required,d.r.pattern(m.f),d.r.maxLength(5),d.r.minLength(5),h.b]),this.caseForm.get(R.a.LOCATION_CODE).setValidators([d.r.required]),this.showAddressDataFields=!0):(this.caseForm.get(R.a.ADDRESS_TYPE).setValue(null),this.caseForm.get(R.a.STREET_TYPE).setValue(null),this.caseForm.get(R.a.STREET_NAME).setValue(null),this.caseForm.get(R.a.STREET_NUMBER).setValue(null),this.caseForm.get(R.a.PORTAL).setValue(null),this.caseForm.get(R.a.FLOOR).setValue(null),this.caseForm.get(R.a.DOOR).setValue(null),this.caseForm.get(R.a.POSTAL_CODE).setValue(null),this.caseForm.get(R.a.LOCATION_CODE).setValue(null),this.caseForm.get(R.a.STREET_TYPE).clearValidators(),this.caseForm.get(R.a.STREET_NAME).clearValidators(),this.caseForm.get(R.a.STREET_NUMBER).clearValidators(),this.caseForm.get(R.a.PORTAL).clearValidators(),this.caseForm.get(R.a.FLOOR).clearValidators(),this.caseForm.get(R.a.DOOR).clearValidators(),this.caseForm.get(R.a.POSTAL_CODE).clearValidators(),this.caseForm.get(R.a.LOCATION_CODE).clearValidators(),this.showAddressDataFields=!1),this.caseForm.get(R.a.ADDRESS_TYPE).updateValueAndValidity(),this.caseForm.get(R.a.STREET_TYPE).updateValueAndValidity(),this.caseForm.get(R.a.STREET_NAME).updateValueAndValidity(),this.caseForm.get(R.a.STREET_NUMBER).updateValueAndValidity(),this.caseForm.get(R.a.PORTAL).updateValueAndValidity(),this.caseForm.get(R.a.FLOOR).updateValueAndValidity(),this.caseForm.get(R.a.DOOR).updateValueAndValidity(),this.caseForm.get(R.a.POSTAL_CODE).updateValueAndValidity(),this.caseForm.get(R.a.LOCATION_CODE).updateValueAndValidity()}setPrivacyPolicyOrConsents(e){e?(this.caseForm.get(R.a.OFFER_COMUNICATIONS).setValidators([d.r.required]),this.caseForm.get(R.a.TRANSFER_DATA).setValidators([d.r.required]),this.showPolicyDataFields=!0):(this.caseForm.get(R.a.OFFER_COMUNICATIONS).setValue(null),this.caseForm.get(R.a.TRANSFER_DATA).setValue(null),this.caseForm.get(R.a.OFFER_COMUNICATIONS).clearValidators(),this.caseForm.get(R.a.TRANSFER_DATA).clearValidators(),this.showPolicyDataFields=!1),this.caseForm.get(R.a.OFFER_COMUNICATIONS).updateValueAndValidity(),this.caseForm.get(R.a.TRANSFER_DATA).updateValueAndValidity()}setBankAccount(e){e?(this.caseForm.get(R.a.IBAN).setValidators([d.r.required,f]),this.showIbanFields=!0):(this.caseForm.get(R.a.IBAN).setValue(null),this.caseForm.get(R.a.IBAN).clearValidators(),this.showIbanFields=!1),this.caseForm.get(R.a.IBAN).updateValueAndValidity()}setProvideContractualDocuments(e){e?(this.caseForm.get(R.a.DOCUMENT_TYPE).setValidators([d.r.required]),this.showProvideDocumentsFiels=!0):(this.caseForm.get(R.a.DOCUMENT_TYPE).setValue(null),this.caseForm.get(R.a.DOCUMENT_TYPE).clearValidators(),this.showProvideDocumentsFiels=!1),this.caseForm.get(R.a.DOCUMENT_TYPE)}setRequestContractualDocuments(e){e?(this.caseForm.get(R.a.DOCUMENT_TYPE).setValidators([d.r.required]),this.showRequestDocumentsFiels=!0):(this.caseForm.get(R.a.DOCUMENT_TYPE).setValue(null),this.caseForm.get(R.a.DOCUMENT_TYPE).clearValidators(),this.showRequestDocumentsFiels=!1),this.caseForm.get(R.a.DOCUMENT_TYPE)}cancellationOfTaxation(e){e?(this.caseForm.get(R.a.CANCELLATION_TAXATION).setValidators([d.r.required]),this.showCancellationTaxationFields=!0):(this.caseForm.get(R.a.CANCELLATION_TAXATION).setValue(null),this.caseForm.get(R.a.CANCELLATION_TAXATION).clearValidators(),this.showCancellationTaxationFields=!1),this.caseForm.get(R.a.CANCELLATION_TAXATION).updateValueAndValidity()}cleanComentsAndSubject(){this.caseForm.get(R.a.SUBJECT).setValue(null),this.caseForm.get(R.a.SUBJECT).updateValueAndValidity(),this.caseForm.get(R.a.COMENTS).setValue(null),this.caseForm.get(R.a.COMENTS).updateValueAndValidity()}get emailOrPhoneAtLeastOneError(){return this.formSubmit&&(null===this.f.email.value||""===this.f.email.value)&&(null===this.f.phone.value||""===this.f.phone.value)}employmentSituationValuechange(){this.caseForm.get(R.a.EMPLOYMENT_SITUATION).valueChanges.subscribe(e=>{"01"===e||"02"===e?(this.caseForm.get(R.a.CNAE).setValidators([d.r.required]),this.caseForm.get(R.a.CNO).setValidators([d.r.required])):(this.caseForm.get(R.a.CNAE).setValue(null),this.caseForm.get(R.a.CNO).setValue(null),this.caseForm.get(R.a.CNAE).clearValidators(),this.caseForm.get(R.a.CNO).clearValidators()),"02"===e?this.caseForm.get(R.a.FREELANCE_DATE_REGISTER).enable():(this.caseForm.get(R.a.FREELANCE_DATE_REGISTER).setValue(null),this.caseForm.get(R.a.FREELANCE_DATE_REGISTER).disable()),this.caseForm.get(R.a.CNAE).updateValueAndValidity(),this.caseForm.get(R.a.CNO).updateValueAndValidity(),this.caseForm.get(R.a.FREELANCE_DATE_REGISTER).updateValueAndValidity()})}getAllProducts(){this.subs.add(this.accountService.currentCustomer$.pipe(Object(C.a)(e=>!!e),Object(g.a)(e=>{var a,t;return this.dictionaryService.getProducts(null===(t=null===(a=e)||void 0===a?void 0:a.DatosPersonales)||void 0===t?void 0:t.mail)})).subscribe(e=>{this.allProductsList=e.productList}))}getProducts(){this.subs.add(this.dictionaryService.getProducts().subscribe(e=>{this.productsList=e.productList}))}setLocationStream(){const e=this.caseForm.get(R.a.POSTAL_CODE);return e.valueChanges.pipe(Object(A.a)(e.value),Object(C.a)(()=>e.valid&&null!==e.value),Object(g.a)(e=>this.dictionaryService.getLocation(e)))}cleanLocationCodeWhenPostalCodeChange(){this.caseForm.get(R.a.POSTAL_CODE).valueChanges.subscribe(e=>{this.caseForm.get(R.a.LOCATION_CODE).value&&(this.caseForm.get(R.a.LOCATION_CODE).setValue(null),this.caseForm.get(R.a.LOCATION_CODE).updateValueAndValidity())})}onSubmitForm(){if(this.formSubmit=!0,this.caseForm.valid){const e=this.builBodyRequest(this.caseForm);e&&this.subs.add(this.caseService.createCase({caseList:[e]}).subscribe(e=>{this.showSuccessModal(this.modalSucces),this.resetForm(),this.getCases()},e=>{this.errorHandler.showError(e)}))}}builBodyRequest(e){const a=new n.a;switch(a.type=e.controls[R.a.CATEGORY].value,a.recordTypeDeveloperName=e.controls[R.a.TYPE_CASE].value,a.description=e.controls[R.a.COMENTS].value,a.subject=e.controls[R.a.SUBJECT].value,e.controls.typeCase.value){case i.a.GEN_INFORMATION:case i.a.HIRING:a.productExtId=e.controls[R.a.PRODUCT].value;break;case i.a.CONTRACTUAL_MODIF:switch(e.controls[R.a.CATEGORY].value){case l.c.NAME_AND_SURNAME:a.newName=e.controls[R.a.NAME].value||null,a.newLastName=e.controls[R.a.FIRST_SURNAME].value||null,a.newSecondLastName=e.controls[R.a.SECONDARY_SURNAME].value||null;break;case l.c.CONTACT_DETAILS_PHONE_MAIL:if(a.newPhone=e.controls[R.a.PHONE].value||null,a.newEmail=e.controls[R.a.EMAIL].value||null,this.emailOrPhoneAtLeastOneError)return null;break;case l.c.LABOR_DATA:a.employmentStatus=e.controls[R.a.EMPLOYMENT_SITUATION].value||null,a.CNOExtId=e.controls[R.a.CNO].value||null,a.CNAEExtId=e.controls[R.a.CNAE].value||null,a.freelanceStartDate=Object(c.z)(e.controls[R.a.FREELANCE_DATE_REGISTER].value,"yyy-MM-dd","es")||null;break;case l.c.ADDRESS_CHANGES:a.addressType=e.controls[R.a.ADDRESS_TYPE].value||null,a.streetType=e.controls[R.a.STREET_TYPE].value||null,a.streetName=e.controls[R.a.STREET_NAME].value||null,a.streetNumber=e.controls[R.a.STREET_NUMBER].value||null,a.portal=e.controls[R.a.PORTAL].value||null,a.floor=e.controls[R.a.FLOOR].value||null,a.door=e.controls[R.a.DOOR].value||null,a.postalCode=e.controls[R.a.POSTAL_CODE].value||null,a.locationCode=e.controls[R.a.LOCATION_CODE].value||null,a.provinceCode=a.postalCode.substr(0,2);break;case l.c.PRIVACY_POLICY_OR_CONSENTS:a.allowCommercialCommunications="SI"===e.controls[R.a.OFFER_COMUNICATIONS].value,a.allowTransferOfPersonalData="SI"===e.controls[R.a.TRANSFER_DATA].value;break;case l.c.BANK_ACCOUNT_CHANGES:a.newIBAN=e.controls[R.a.IBAN].value||null}break;case i.a.DOCUMENTS:a.document=e.controls[R.a.DOCUMENT_TYPE].value;break;case i.a.CANCELLATIONS:a.newIBAN=e.controls[R.a.IBAN].value||null,a.motive=e.controls[R.a.REASON_CANCELLATION].value||null,e.controls[R.a.CATEGORY].value===l.a.CANCELLATION_OF_TAXATION&&(a.impositionNumber=e.controls[R.a.CANCELLATION_TAXATION].value||null);break;case i.a.CUSTOMER_AREA:a.newIBAN=e.controls[R.a.IBAN].value||null}return a}resetForm(){this.caseForm.reset(),this.caseTypeSelected=null,this.createForm(),this.formSubmit=!1}get isTypeCaseSelected(){return!1}trackByCode(e,a){return e&&a.code}listenEmploymentSituationChanges(){const e=this.caseForm.get(R.a.EMPLOYMENT_SITUATION),a=this.caseForm.get(R.a.CNAE),t=this.caseForm.get(R.a.CNO);this.subs.add(e.valueChanges.pipe(Object(_.a)()).subscribe(e=>{"01"!==e&&"02"!==e?(a.disable(),t.disable(),a.setValue(null),t.setValue(null)):(a.enable(),t.enable())}))}listenIbanChanges(){const e=this.caseForm.get(R.a.IBAN);this.subs.add(e.valueChanges.pipe(Object(C.a)(e=>{var a;return(null===(a=e)||void 0===a?void 0:a.length)>0&&!e.startsWith("ES")}),Object(E.a)(1)).subscribe(()=>{this.caseForm.patchValue({iban:"ES"},{emitEvent:!1})}))}createState(){return Object(u.a)([this.globalPositionService.globalPosition$,this.globalPositionService.globalPosition$.pipe(Object(I.d)()),this.accountService.currentCustomer$]).pipe(Object(S.a)(([e,a,t])=>({globalPosition:e,account:a,currentCustomer:t})))}setStreamValues(){this.employmentSituation$=this.dictionaryService.getEmploymentStatus(),this.cno$=this.dictionaryService.getCNO(),this.cnae$=this.dictionaryService.getCNAE()}hasError(e){return e.touched&&e.invalid||this.formSubmit&&e.invalid}showNewCasesMobile(){this.newCaseMobile=!this.newCaseMobile}showSuccessModal(e){this.modalRef=this.modalService.show(e)}ngOnDestroy(){this.globalPositionService.destroy(),this.subs.unsubscribe()}}return e.\u0275fac=function(a){return new(a||e)(F.Mb(M.a),F.Mb(d.c),F.Mb(P.a),F.Mb(w.a),F.Mb(j.d),F.Mb(G.a),F.Mb(x.a),F.Mb(U.b),F.Mb(Y.a),F.Mb(p.a),F.Mb(p.c),F.Mb(y),F.Mb(D),F.Mb(p.f),F.Mb(r.a),F.Mb(r.b))},e.\u0275cmp=F.Gb({type:e,selectors:[["app-cases"]],viewQuery:function(e,a){var t;1&e&&F.Ic(z,!0),2&e&&F.sc(t=F.bc())&&(a.modalSucces=t.first)},decls:2,vars:3,consts:[[4,"ngIf"],["class","max-size cases",4,"ngIf"],["modalSucces",""],[1,"max-size","cases"],[1,"main"],[1,"main-col"],[1,"main__header"],[1,"main__header__desktop"],[1,"main__header__title"],[1,"main__header__title__col"],[1,"main__body"],[1,"col--2"],[1,"tabs-block--desktop"],["staticTabs",""],[3,"heading"],[3,"caseDate","caseType","description","comentsBackoffice",4,"ngFor","ngForOf"],[1,"tabs-block--mobile",3,"hidden"],[1,"tabs-block--mobile__section"],[1,"tabs-block--mobile__title"],[1,"tabs-block--mobile__body"],[3,"closeOthers"],[4,"ngFor","ngForOf"],[1,"new-request",3,"formGroup","ngClass","submit"],["type","button",1,"btn--primary","goback",3,"ngClass","click"],[1,"group-input","new-request__title"],[1,"group-input","input-select"],["bindLabel","title","bindValue","id","formControlName","typeCase",3,"items","placeholder","clearable","ngClass","change"],["ng-label-tmp",""],["ng-option-tmp",""],["bindLabel","title","bindValue","id","formControlName","category",3,"items","placeholder","clearable","ngClass"],[1,"group-input","input-text"],["type","text","id","subject","formControlName","subject","maxlength","50",3,"placeholder","ngClass"],["class","group-input input-select",4,"ngIf"],["bindLabel","name","bindValue","code","formControlName","documentType",3,"items","clearable","placeholder","ngClass",4,"ngIf"],["class","group-input input-text",4,"ngIf"],[1,"group-input","textarea"],["for","comments"],["name","comments","id","comments","formControlName","coments",3,"placeholder","ngClass"],[1,"group-button"],["type","submit",1,"btn--primary-small"],[1,"main__button"],["type","button",1,"btn--primary",3,"ngClass","click"],[3,"caseDate","caseType","description","comentsBackoffice"],["accordion-heading","",1,"tabs-block--mobile__row"],["class","mt-3",4,"ngIf"],[1,"mt-3"],["bindLabel","name","bindValue","externalId","formControlName","product",3,"items","placeholder","clearable","ngClass"],["type","text","id","name","formControlName","name","maxlength","25",3,"placeholder","ngClass"],["type","text","id","firstSurname","formControlName","firstSurname","maxlength","25",3,"placeholder","ngClass"],["type","text","id","secondarySurname","formControlName","secondarySurname","maxlength","25",3,"placeholder","ngClass"],["type","text","id","email","formControlName","email","maxlength","50",3,"placeholder","ngClass"],["type","text","id","phone","formControlName","phone","maxlength","9",3,"placeholder","ngClass"],["bindLabel","name","bindValue","code","formControlName","employmentSituation",3,"items","placeholder","clearable","ngClass"],["bindLabel","name","bindValue","code","formControlName","cno",3,"items","placeholder","clearable","ngClass"],["bindLabel","name","bindValue","code","formControlName","cnae",3,"items","placeholder","clearable","ngClass"],[1,"group-input","input-text","flex-column"],["id","freelanceDateRegister","type","text","bsDatepicker","","formControlName","freelanceDateRegister",3,"minDate","maxDate","bsConfig","placeholder","ngClass","dateCustomClasses"],["bindLabel","name","bindValue","code","formControlName","addressType",3,"items","placeholder","clearable","ngClass"],["bindLabel","name","bindValue","code","formControlName","streetType",3,"items","placeholder","clearable","ngClass"],["type","text","id","streetName","formControlName","streetName",3,"ngClass","placeholder"],["type","text","id","streetNumber","formControlName","streetNumber",3,"ngClass","placeholder"],["type","text","id","portal","formControlName","portal",3,"ngClass","placeholder"],["type","text","id","floor","formControlName","floor",3,"ngClass","placeholder"],["type","text","id","door","formControlName","door",3,"ngClass","placeholder"],["type","text","id","postalCode","formControlName","postalCode",3,"ngClass","placeholder"],["bindLabel","locationName","bindValue","locationCode","formControlName","locationCode",3,"items","placeholder","clearable","ngClass"],[1,"legal-conditions"],[1,"legal-conditions__text"],[1,"group-input","group-radio"],[1,"input-radio"],["id","offerComunicationsYes","name","offerComunications","type","radio","formControlName","offerComunications",3,"value"],["for","offerComunicationsYes"],["id","offerComunicationsNo","name","offerComunications","type","radio","formControlName","offerComunications",3,"value"],["for","offerComunicationsNo"],["id","transferDataYes","name","transferData","type","radio","formControlName","transferData",3,"value"],["for","transferDataYes"],["id","transferDataNo","name","transferData","type","radio","formControlName","transferData",3,"value"],["for","transferDataNo"],["bindLabel","name","bindValue","code","formControlName","documentType",3,"items","clearable","placeholder","ngClass"],["bindLabel","name","bindValue","code","formControlName","documentType",3,"items","placeholder","clearable","ngClass"],["appFormatIban","","type","text","id","iban","formControlName","iban","placeholder","IBAN",3,"ngClass"],["bindLabel","label","bindValue","value","formControlName","reasonCancellation",3,"items","clearable","placeholder","ngClass"],["type","text","id","cancellationTaxation","formControlName","cancellationTaxation","maxlength","50",3,"placeholder","ngClass"],["head","case_modal_succes_title","description","case_modal_success_description","type","success",3,"hide"]],template:function(e,a){1&e&&(F.Cc(0,Ue,4,1,"ng-container",0),F.dc(1,"async")),2&e&&F.jc("ngIf",F.ec(1,1,a.state$))},directives:[c.p,k.c,k.a,c.o,B.a,d.s,d.o,d.g,c.n,q.a,d.n,d.f,q.d,q.c,d.b,d.i,J,B.c,j.b,j.a,d.p,W.a,K.a],pipes:[c.b,H.d,Q.a,Z,c.f,c.w],encapsulation:2}),e})()}];let ke=(()=>{class e{}return e.\u0275mod=F.Kb({type:e}),e.\u0275inj=F.Jb({factory:function(a){return new(a||e)},imports:[[o.h.forChild(Ye)],o.h]}),e})();t.d(a,"CasesModule",(function(){return Be}));let Be=(()=>{class e{}return e.\u0275mod=F.Kb({type:e}),e.\u0275inj=F.Jb({factory:function(a){return new(a||e)},imports:[[c.c,ke,s.a]]}),e})()}}]);